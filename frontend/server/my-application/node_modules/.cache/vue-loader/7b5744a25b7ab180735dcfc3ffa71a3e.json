{"remainingRequest":"/app/my-application/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/my-application/src/components/pages/students/FlowSession.vue?vue&type=script&lang=js&","dependencies":[{"path":"/app/my-application/src/components/pages/students/FlowSession.vue","mtime":1653637813518},{"path":"/app/my-application/node_modules/cache-loader/dist/cjs.js","mtime":1653637948398},{"path":"/app/my-application/node_modules/babel-loader/lib/index.js","mtime":1653637958391},{"path":"/app/my-application/node_modules/cache-loader/dist/cjs.js","mtime":1653637948398},{"path":"/app/my-application/node_modules/vue-loader/lib/index.js","mtime":1653637954854}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBTaW1wbGVQYWdlIGZyb20gJy4uLy4uL21vZHVsZXMvU2ltcGxlUGFnZS52dWUnCmltcG9ydCBTaW5nbGVUZXh0UXVlc3Rpb24gZnJvbSAnLi4vLi4vbW9kdWxlcy9TaW5nbGVUZXh0UXVlc3Rpb24udnVlJwppbXBvcnQgTXVsdGlwbGVUZXh0UXVlc3Rpb24gZnJvbSAnLi4vLi4vbW9kdWxlcy9NdWx0aXBsZVRleHRRdWVzdGlvbi52dWUnCmltcG9ydCBEZXNjcmlwdGl2ZVRleHRRdWVzdGlvbiBmcm9tICcuLi8uLi9tb2R1bGVzL0Rlc2NyaXB0aXZlVGV4dFF1ZXN0aW9uLnZ1ZScKaW1wb3J0IENob2ljZVF1ZXN0aW9uIGZyb20gJy4uLy4uL21vZHVsZXMvQ2hvaWNlUXVlc3Rpb24udnVlJwppbXBvcnQgRmxvd1Nlc3Npb25Mb2NhdGlvbkJhciBmcm9tICcuLi8uLi9tb2R1bGVzL0Zsb3dTZXNzaW9uTG9jYXRpb25CYXIudnVlJwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJGbG93U2Vzc2lvbiIsCiAgcHJvcHM6IHsKICAgIGZsb3dfc2Vzc2lvbl9pZDogTnVtYmVyLAogICAgcGFnZV9udW06IE51bWJlciwKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIFNpbXBsZVBhZ2UsCiAgICBTaW5nbGVUZXh0UXVlc3Rpb24sCiAgICBNdWx0aXBsZVRleHRRdWVzdGlvbiwKICAgIERlc2NyaXB0aXZlVGV4dFF1ZXN0aW9uLAogICAgQ2hvaWNlUXVlc3Rpb24sCiAgICBGbG93U2Vzc2lvbkxvY2F0aW9uQmFyLAogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24oKSB7CiAgICB0aGlzLmdldF9mbG93X2luZm8oKQogICAgdGhpcy51cGRhdGVfZGF0YSgpCiAgfSwKICBkYXRhOiAoKSA9PiAoewogICAgZmxvd190aXRsZTogIiIsCiAgICBudW1fb2ZfcGFnZXM6IDEsCiAgICBwYWdlOiB7InRpdGxlIjoiIn0sCiAgICBwYWdlX2NvbnRlbnQ6IHt9LAogICAgdXNlcm5hbWUgOiAiIiwKICAgIGlzX2NyZWF0ZXIgOiBmYWxzZSwKICAgIGNvbXBvbmVudE5hbWU6ICIiLAogICAgYmxhbmtfYW5zd2VyczogW10sCiAgfSksCiAgYmVmb3JlUm91dGVVcGRhdGUgKHRvLCBmcm9tLCBuZXh0KSB7CiAgICB0aGlzLnVwZGF0ZV9kYXRhKCkKICAgIG5leHQoKTsKICB9LAogIG1ldGhvZHM6ewogICAgZ2V0X2Zsb3dfaW5mbygpewogICAgICBsZXQgc2VsZiA9IHRoaXMKICAgICAgYXhpb3MuZ2V0KGBodHRwOi8vbG9jYWxob3N0OjgwMDAvZ2V0X2Zsb3dfaW5mby8ke3RoaXMuZmxvd19zZXNzaW9uX2lkfWAsIHt3aXRoQ3JlZGVudGlhbHM6IHRydWV9KQogICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSl7CiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSkKICAgICAgICBzZWxmLmZsb3dfdGl0bGUgPSByZXNwb25zZS5kYXRhLmZsb3dfdGl0bGUKICAgICAgICBzZWxmLm51bV9vZl9wYWdlcyA9IHJlc3BvbnNlLmRhdGEubnVtX29mX3BhZ2VzCiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKXsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcikKICAgICAgfSkKICAgIH0sCiAgICB1cGRhdGVfZGF0YSgpewogICAgICBsZXQgc2VsZiA9IHRoaXMKICAgICAgYXhpb3MuZ2V0KCJodHRwOi8vbG9jYWxob3N0OjgwMDAvaG9tZV9wcm9maWxlIiwge3dpdGhDcmVkZW50aWFsczogdHJ1ZX0pCiAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXsKICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKQogICAgICAgIHNlbGYudXNlcm5hbWUgPSByZXNwb25zZS5kYXRhLnVzZXJuYW1lCiAgICAgICAgc2VsZi5pc19jcmVhdGVyID0gcmVzcG9uc2UuZGF0YS5jcmVhdGUKICAgICAgICBheGlvcy5nZXQoYGh0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9nZXRfZmxvd3BhZ2UvJHtzZWxmLmZsb3dfc2Vzc2lvbl9pZH0vJHtzZWxmLnBhZ2VfbnVtfWAsIHt3aXRoQ3JlZGVudGlhbHM6IHRydWV9KQogICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpCiAgICAgICAgICBzZWxmLnBhZ2UgPSByZXNwb25zZS5kYXRhCiAgICAgICAgICBzZWxmLnBhZ2VfY29udGVudCA9IHJlc3BvbnNlLmRhdGEucGFnZV9jb250ZW50CiAgICAgICAgICBzZWxmLmNvbXBvbmVudE5hbWUgPSByZXNwb25zZS5kYXRhLnBhZ2VfdHlwZQogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKXsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yLnJlc3BvbnNlKQogICAgICAgIH0pCiAgICAgICAgYXhpb3MuZ2V0KGBodHRwOi8vbG9jYWxob3N0OjgwMDAvZ2V0X2JsYW5rX2Fuc3dlci8ke3NlbGYuZmxvd19zZXNzaW9uX2lkfS8ke3NlbGYucGFnZV9udW19YCwge3dpdGhDcmVkZW50aWFsczogdHJ1ZX0pCiAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpewogICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSkKICAgICAgICAgIHNlbGYuYmxhbmtfYW5zd2VycyA9IHJlc3BvbnNlLmRhdGEKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbihlcnJvcil7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZSkKICAgICAgICB9KQogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSAgewogICAgICAgICAgaWYoZXJyb3IucmVzcG9uc2Uuc3RhdHVzID09IDQwMSl7CiAgICAgICAgICAgIHNlbGYuJHJvdXRlci5wdXNoKHtuYW1lOidTaWdudXAnfSkKICAgICAgICAgIH1lbHNlewogICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZSkKICAgICAgICAgIH0KICAgICAgICB9KQogICAgfSwKICAgIGdvX3ByZXZpb3VzX3BhZ2UoKXsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goe25hbWU6J0Zsb3dTZXNzaW9uJywgcGFyYW1zOiB7Zmxvd19zZXNzaW9uX2lkOiB0aGlzLmZsb3dfc2Vzc2lvbl9pZCwgcGFnZV9udW06IHRoaXMucGFnZV9udW0tMSwgYmxhbmtfYW5zd2VyczogdGhpcy5ibGFua19hbnN3ZXJzfX0pCiAgICB9LAogICAgZ29fbmV4dF9wYWdlKCl7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHtuYW1lOidGbG93U2Vzc2lvbicsIHBhcmFtczoge2Zsb3dfc2Vzc2lvbl9pZDogdGhpcy5mbG93X3Nlc3Npb25faWQsIHBhZ2VfbnVtOiB0aGlzLnBhZ2VfbnVtKzEsIGJsYW5rX2Fuc3dlcnM6IHRoaXMuYmxhbmtfYW5zd2Vyc319KQogICAgfSwKICAgIAoKICB9LAp9Owo="},{"version":3,"sources":["FlowSession.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA","file":"FlowSession.vue","sourceRoot":"src/components/pages/students","sourcesContent":["<template>\n  <v-container class=\"mx-auto\">\n    <v-responsive :min-width=\"800\" :max-width=\"1200\" class=\"mx-auto\">\n      <v-container >  \n        <v-subheader :class=\"['text-h5']\">{{this.flow_title}}</v-subheader>\n          <v-container>\n            <flow-session-location-bar :page_num='this.page_num' :flow_session_id=\"this.flow_session_id\" :num_of_pages=\"this.num_of_pages\"></flow-session-location-bar>\n          </v-container>\n          <v-subheader :class=\"['text-h5']\">問題{{page_num}}</v-subheader>\n          <v-responsive :min-height=\"600\">\n            <v-container fluid>\n                <component :is=\"componentName\" :page_content='page_content' :flow_session_id='flow_session_id' :page_num='page_num' :blank_answers=\"blank_answers\"></component>\n            </v-container>\n          </v-responsive>\n          <v-container >\n            <v-row>\n              <v-col>\n                <v-btn @click=\"go_previous_page()\" v-if=\"this.page_num > 1\"> 前のページ  </v-btn>\n              </v-col>\n              <v-col class=\"d-flex align-end flex-column\">\n                <v-btn @click=\"go_next_page()\" v-if=\"this.page_num < this.num_of_pages\"> 次のページ </v-btn>\n              </v-col>\n            </v-row>\n          </v-container>\n      </v-container>\n    </v-responsive>\n  </v-container>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport SimplePage from '../../modules/SimplePage.vue'\nimport SingleTextQuestion from '../../modules/SingleTextQuestion.vue'\nimport MultipleTextQuestion from '../../modules/MultipleTextQuestion.vue'\nimport DescriptiveTextQuestion from '../../modules/DescriptiveTextQuestion.vue'\nimport ChoiceQuestion from '../../modules/ChoiceQuestion.vue'\nimport FlowSessionLocationBar from '../../modules/FlowSessionLocationBar.vue'\n\nexport default {\n  name: \"FlowSession\",\n  props: {\n    flow_session_id: Number,\n    page_num: Number,\n  },\n  components: {\n    SimplePage,\n    SingleTextQuestion,\n    MultipleTextQuestion,\n    DescriptiveTextQuestion,\n    ChoiceQuestion,\n    FlowSessionLocationBar,\n  },\n  created: function() {\n    this.get_flow_info()\n    this.update_data()\n  },\n  data: () => ({\n    flow_title: \"\",\n    num_of_pages: 1,\n    page: {\"title\":\"\"},\n    page_content: {},\n    username : \"\",\n    is_creater : false,\n    componentName: \"\",\n    blank_answers: [],\n  }),\n  beforeRouteUpdate (to, from, next) {\n    this.update_data()\n    next();\n  },\n  methods:{\n    get_flow_info(){\n      let self = this\n      axios.get(`http://localhost:8000/get_flow_info/${this.flow_session_id}`, {withCredentials: true})\n      .then(function(response){\n        console.log(response.data)\n        self.flow_title = response.data.flow_title\n        self.num_of_pages = response.data.num_of_pages\n      }).catch(function(error){\n        console.log(error)\n      })\n    },\n    update_data(){\n      let self = this\n      axios.get(\"http://localhost:8000/home_profile\", {withCredentials: true})\n      .then(function(response){\n        console.log(response.data)\n        self.username = response.data.username\n        self.is_creater = response.data.create\n        axios.get(`http://localhost:8000/get_flowpage/${self.flow_session_id}/${self.page_num}`, {withCredentials: true})\n        .then(function(response){\n          console.log(response.data)\n          self.page = response.data\n          self.page_content = response.data.page_content\n          self.componentName = response.data.page_type\n        }).catch(function(error){\n          console.log(error.response)\n        })\n        axios.get(`http://localhost:8000/get_blank_answer/${self.flow_session_id}/${self.page_num}`, {withCredentials: true})\n        .then(function(response){\n          console.log(response.data)\n          self.blank_answers = response.data\n        }).catch(function(error){\n          console.log(error.response)\n        })\n        }).catch(function(error)  {\n          if(error.response.status == 401){\n            self.$router.push({name:'Signup'})\n          }else{\n            console.log(error.response)\n          }\n        })\n    },\n    go_previous_page(){\n      this.$router.push({name:'FlowSession', params: {flow_session_id: this.flow_session_id, page_num: this.page_num-1, blank_answers: this.blank_answers}})\n    },\n    go_next_page(){\n      this.$router.push({name:'FlowSession', params: {flow_session_id: this.flow_session_id, page_num: this.page_num+1, blank_answers: this.blank_answers}})\n    },\n    \n\n  },\n};\n</script>\n"]}]}