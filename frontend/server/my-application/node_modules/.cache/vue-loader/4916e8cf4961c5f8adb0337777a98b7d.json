{"remainingRequest":"/app/my-application/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/my-application/src/components/pages/students/FlowCompletion.vue?vue&type=script&lang=js&","dependencies":[{"path":"/app/my-application/src/components/pages/students/FlowCompletion.vue","mtime":1653637813518},{"path":"/app/my-application/node_modules/cache-loader/dist/cjs.js","mtime":1653637948398},{"path":"/app/my-application/node_modules/babel-loader/lib/index.js","mtime":1653637958391},{"path":"/app/my-application/node_modules/cache-loader/dist/cjs.js","mtime":1653637948398},{"path":"/app/my-application/node_modules/vue-loader/lib/index.js","mtime":1653637954854}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCB7IG1hcmtlZCB9IGZyb20gJ21hcmtlZCc7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkZsb3dDb21wbGV0aW9uIiwKICBwcm9wczogewogICAgZmxvd19zZXNzaW9uX2lkOiBOdW1iZXIKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uKCkgewogICAgbGV0IHNlbGYgPSB0aGlzCiAgICBheGlvcy5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9ob21lX3Byb2ZpbGUiLCB7d2l0aENyZWRlbnRpYWxzOiB0cnVlfSkKICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXsKICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSkKICAgICAgc2VsZi5nZXRfaWRzX2J5X3Nlc3Npb25faWQoKQogICAgICBzZWxmLmdldF9mbG93X2luZm8oKQogICAgfSkuY2F0Y2goCiAgICAgIGZ1bmN0aW9uKGVycm9yKSAgewogICAgICAgIGlmKGVycm9yLnJlc3BvbnNlLnN0YXR1cyA9PSA0MDEpewogICAgICAgICAgc2VsZi4kcm91dGVyLnB1c2goe25hbWU6J0xvZ2luJ30pCiAgICAgICAgfWVsc2V7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZSkKICAgICAgICB9CiAgICAgIH0KICAgICkKICB9LAogIGRhdGE6ICgpID0+ICh7CiAgICBmbG93OiB7fSwKICAgIGNvbXBsZXRpb25fcGFnZV9jb250ZW50OiAiIiwKICAgIHVzZXJuYW1lIDogIiIsCiAgICBpc19jcmVhdGVyIDogZmFsc2UsCiAgICBmbG93X3RpdGxlIDogIiIsCiAgICBmbG93X2lkOiBudWxsLAogICAgY291cnNlX2lkOiBudWxsLAogIH0pLAogIG1ldGhvZHM6ewogICAgbW92ZV90b19mbG93X3RvcCgpewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7bmFtZTonRmxvdycsIHBhcmFtczoge2NvdXJzZV9pZDp0aGlzLmNvdXJzZV9pZCwgZmxvd19pZDp0aGlzLmZsb3dfaWR9fSkKICAgIH0sCiAgICBtYXJrZG93blRvSHRtbChtZCl7CiAgICAgIHJldHVybiBtYXJrZWQobWQpOwogICAgfSwKICAgIGdldF9mbG93X2luZm8oKXsKICAgICAgbGV0IHNlbGYgPSB0aGlzCiAgICAgIGF4aW9zLmdldChgaHR0cDovL2xvY2FsaG9zdDo4MDAwL2dldF9mbG93X2luZm8vJHt0aGlzLmZsb3dfc2Vzc2lvbl9pZH1gLCB7d2l0aENyZWRlbnRpYWxzOiB0cnVlfSkKICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpewogICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpCiAgICAgICAgc2VsZi5mbG93X3RpdGxlID0gcmVzcG9uc2UuZGF0YS5mbG93X3RpdGxlCiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKXsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcikKICAgICAgfSkKICAgIH0sCiAgICBnZXRfY29tcGxldGlvbl9wYWdlKCl7CiAgICAgIGxldCBzZWxmID0gdGhpcwogICAgICBheGlvcy5nZXQoYGh0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9nZXRfZmxvd19jb21wbGV0aW9uX3BhZ2UvJHtzZWxmLmZsb3dfaWR9YCwge3dpdGhDcmVkZW50aWFsczogdHJ1ZX0pCiAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXsKICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKQogICAgICAgIHNlbGYuY29tcGxldGlvbl9wYWdlX2NvbnRlbnQ9IHJlc3BvbnNlLmRhdGEuY29udGVudAogICAgICB9KS5jYXRjaCgKICAgICAgICBmdW5jdGlvbihlcnJvcil7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZSkKICAgICAgICB9CiAgICAgICkKICAgIH0sCiAgICBnZXRfaWRzX2J5X3Nlc3Npb25faWQoKXsKICAgICAgbGV0IHNlbGYgPSB0aGlzCiAgICAgIGF4aW9zLmdldChgaHR0cDovL2xvY2FsaG9zdDo4MDAwL2dldF9pZHNfYnlfZmxvd19zZXNzaW9uX2lkLyR7c2VsZi5mbG93X3Nlc3Npb25faWR9YCwge3dpdGhDcmVkZW50aWFsczogdHJ1ZX0pCiAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXsKICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKQogICAgICAgIHNlbGYuZmxvd19pZCA9IHJlc3BvbnNlLmRhdGEuZmxvd19pZAogICAgICAgIHNlbGYuY291cnNlX2lkID0gcmVzcG9uc2UuZGF0YS5jb3Vyc2VfaWQKICAgICAgICBzZWxmLmdldF9jb21wbGV0aW9uX3BhZ2UoKQogICAgICB9KS5jYXRjaChmdW5jdGlvbihlcnJvcil7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IucmVzcG9uc2UpCiAgICAgIH0pCiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["FlowCompletion.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAqBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"FlowCompletion.vue","sourceRoot":"src/components/pages/students","sourcesContent":["<template>\n  <v-container>\n    <v-responsive :max-width=\"1200\" class=\"mx-auto\">\n      <v-container>\n        <v-subheader :class=\"['text-h5']\">{{flow_title}}</v-subheader>\n        <v-container class=\"mt-6\">\n          <v-row>\n            <div v-html=\"markdownToHtml(completion_page_content)\"></div>\n          </v-row>\n          <v-row class=\"mt-8\">\n            <v-btn depressed color=\"primary\" @click=\"move_to_flow_top()\">\n              フロートップに戻る\n            </v-btn>\n          </v-row>\n        </v-container>\n      </v-container>\n    </v-responsive>\n  </v-container>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { marked } from 'marked';\n\nexport default {\n  name: \"FlowCompletion\",\n  props: {\n    flow_session_id: Number\n  },\n  created: function() {\n    let self = this\n    axios.get(\"http://localhost:8000/home_profile\", {withCredentials: true})\n    .then(function(response){\n      console.log(response.data)\n      self.get_ids_by_session_id()\n      self.get_flow_info()\n    }).catch(\n      function(error)  {\n        if(error.response.status == 401){\n          self.$router.push({name:'Login'})\n        }else{\n          console.log(error.response)\n        }\n      }\n    )\n  },\n  data: () => ({\n    flow: {},\n    completion_page_content: \"\",\n    username : \"\",\n    is_creater : false,\n    flow_title : \"\",\n    flow_id: null,\n    course_id: null,\n  }),\n  methods:{\n    move_to_flow_top(){\n      this.$router.push({name:'Flow', params: {course_id:this.course_id, flow_id:this.flow_id}})\n    },\n    markdownToHtml(md){\n      return marked(md);\n    },\n    get_flow_info(){\n      let self = this\n      axios.get(`http://localhost:8000/get_flow_info/${this.flow_session_id}`, {withCredentials: true})\n      .then(function(response){\n        console.log(response.data)\n        self.flow_title = response.data.flow_title\n      }).catch(function(error){\n        console.log(error)\n      })\n    },\n    get_completion_page(){\n      let self = this\n      axios.get(`http://localhost:8000/get_flow_completion_page/${self.flow_id}`, {withCredentials: true})\n      .then(function(response){\n        console.log(response.data)\n        self.completion_page_content= response.data.content\n      }).catch(\n        function(error){\n          console.log(error.response)\n        }\n      )\n    },\n    get_ids_by_session_id(){\n      let self = this\n      axios.get(`http://localhost:8000/get_ids_by_flow_session_id/${self.flow_session_id}`, {withCredentials: true})\n      .then(function(response){\n        console.log(response.data)\n        self.flow_id = response.data.flow_id\n        self.course_id = response.data.course_id\n        self.get_completion_page()\n      }).catch(function(error){\n        console.log(error.response)\n      })\n    },\n  },\n};\n</script>\n"]}]}