{"remainingRequest":"/app/my-application/node_modules/babel-loader/lib/index.js!/app/my-application/node_modules/cache-loader/dist/cjs.js??ref--1-0!/app/my-application/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/my-application/src/components/pages/teachers/TeacherHome.vue?vue&type=script&lang=js&","dependencies":[{"path":"/app/my-application/src/components/pages/teachers/TeacherHome.vue","mtime":1653637813519},{"path":"/app/my-application/babel.config.js","mtime":1653637813508},{"path":"/app/my-application/node_modules/cache-loader/dist/cjs.js","mtime":1653637948398},{"path":"/app/my-application/node_modules/babel-loader/lib/index.js","mtime":1653637958391},{"path":"/app/my-application/node_modules/cache-loader/dist/cjs.js","mtime":1653637948398},{"path":"/app/my-application/node_modules/vue-loader/lib/index.js","mtime":1653637954854}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJUZWFjaGVySG9tZSIsCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIGF4aW9zLmdldCgiaHR0cDovL2xvY2FsaG9zdDo4MDAwL2hvbWVfcHJvZmlsZSIsIHsKICAgICAgd2l0aENyZWRlbnRpYWxzOiB0cnVlCiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTsKICAgICAgc2VsZi51c2VyX2luZm8gPSByZXNwb25zZS5kYXRhOwogICAgICBzZWxmLmlzX2NyZWF0ZSA9IHJlc3BvbnNlLmRhdGEuY3JlYXRlOwoKICAgICAgaWYgKHNlbGYuaXNfY3JlYXRlKSB7CiAgICAgICAgc2VsZi5nZXRfY3JlYXRlZF9jb3Vyc2VzKCk7CiAgICAgIH0KICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICBjb25zb2xlLmxvZyhlcnJvcik7CgogICAgICBpZiAoZXJyb3IucmVzcG9uc2Uuc3RhdHVzID09IDQwMSkgewogICAgICAgIHNlbGYuJHJvdXRlci5wdXNoKHsKICAgICAgICAgIG5hbWU6ICdTaWdudXAnCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IucmVzcG9uc2UpOwogICAgICB9CiAgICB9KTsKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0YWI6IG51bGwsCiAgICAgIHVzZXJfaW5mbzoge30sCiAgICAgIGlzX2NyZWF0ZTogZmFsc2UsCiAgICAgIGNvdXJzZXM6IHt9CiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoKSB7CiAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgYXhpb3MuZ2V0KCJodHRwOi8vbG9jYWxob3N0OjgwMDAvaG9tZV9wcm9maWxlIiwgewogICAgICAgIHdpdGhDcmVkZW50aWFsczogdHJ1ZQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmlzX2FjdGl2ZSkgewogICAgICAgICAgc2VsZi5nb19sb2dpbl9wYWdlKCk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CgogICAgICAgIGlmIChlcnJvci5yZXNwb25zZS5zdGF0dXMgPT0gNDAxKSB7CiAgICAgICAgICBzZWxmLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgIG5hbWU6ICdMb2dpbicKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBnb19sb2dpbl9wYWdlOiBmdW5jdGlvbiBnb19sb2dpbl9wYWdlKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogJ0xvZ2luJwogICAgICB9KTsKICAgIH0sCiAgICBhZGRfY291cnNlOiBmdW5jdGlvbiBhZGRfY291cnNlKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogJ1JlZ2lzdGVyQ291cnNlJwogICAgICB9KTsKICAgIH0sCiAgICBtb3ZlX3RvX2NvdXJzZV9pbmZvOiBmdW5jdGlvbiBtb3ZlX3RvX2NvdXJzZV9pbmZvKGNvdXJzZV9pZCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogJ0NvdXJzZUluZm8nLAogICAgICAgIHBhcmFtczogewogICAgICAgICAgImNvdXJzZV9pZCI6IGNvdXJzZV9pZAogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgZ2V0X2NyZWF0ZWRfY291cnNlczogZnVuY3Rpb24gZ2V0X2NyZWF0ZWRfY291cnNlcygpIHsKICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICBheGlvcy5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9nZXRfY3JlYXRlZF9jb3Vyc2VzIiwgewogICAgICAgIHdpdGhDcmVkZW50aWFsczogdHJ1ZQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpOwogICAgICAgIHNlbGYuY291cnNlcyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGlmIChlcnJvci5yZXNwb25zZS5zdGF0dXMgPT0gNDAxKSB7CiAgICAgICAgICBzZWxmLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgIG5hbWU6ICdMb2dpbicKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2EA;AAEA;AACAA,qBADA;AAEAC;AACA;AACAC;AAAAC;AAAA,OACAC,IADA,CACA;AACAC;AACAC;AACAA;;AACA;AACAA;AACA;AACA,KARA,EAQAC,KARA,CASA;AACAF;;AACA;AACAC;AAAAN;AAAA;AACA,OAFA,MAEA;AACAK;AACA;AACA,KAhBA;AAkBA,GAtBA;AAuBAG;AAAA;AACAC,eADA;AAEAC,mBAFA;AAGAC,sBAHA;AAIAC;AAJA;AAAA,GAvBA;AA6BAC;AACAC;AACA;AACAZ;AAAAC;AAAA,SACAC,IADA,CACA;AACA;AACAE;AACA;AACA,OALA,EAKAC,KALA,CAMA;AACAF;;AACA;AACAC;AAAAN;AAAA;AACA,SAFA,MAEA;AACAK;AACA;AACA,OAbA;AAeA,KAlBA;AAmBAU;AACA;AAAAf;AAAA;AACA,KArBA;AAsBAgB,cAtBA,wBAsBA;AACA;AAAAhB;AAAA;AACA,KAxBA;AAyBAiB,uBAzBA,+BAyBAC,SAzBA,EAyBA;AACA;AAAAlB;AAAAmB;AAAA;AAAA;AAAA;AACA,KA3BA;AA4BAC,uBA5BA,iCA4BA;AACA;AACAlB;AAAAC;AAAA,SACAC,IADA,CACA;AACAC;AACAC;AACA,OAJA,EAIAC,KAJA,CAIA;AACA;AACAD;AAAAN;AAAA;AACA,SAFA,MAEA;AACAK;AACA;AACA,OAVA;AAYA;AA1CA;AA7BA","names":["name","created","axios","withCredentials","then","console","self","catch","data","tab","user_info","is_create","courses","methods","logout","go_login_page","add_course","move_to_course_info","course_id","params","get_created_courses"],"sources":["TeacherHome.vue"],"sourcesContent":["<template>\n  <v-container>\n    <v-responsive :max-width=\"1200\" class=\"mx-auto\">\n      <v-container>\n        <v-banner height=\"100\" :class=\"['text-h5']\">{{course.course_name}}\n          <v-row justify=\"end\">\n            <v-btn text color=\"grey\" @click=\"logout()\" value=\"POST\">logout</v-btn>\n          </v-row>\n        </v-banner>\n      </v-container>\n      <v-container>\n        <v-row justify=\"end\">\n          <v-responsive :max-width=\"300\">\n            <v-container>\n              <v-row>\n                {{this.user_info.username}} ( {{this.user_info.email}} )\n              </v-row>\n              <v-row>\n                {{this.user_info.kind_name}} としてログイン中\n              </v-row>\n            </v-container>\n          </v-responsive>\n        </v-row>\n        <v-row>\n          <v-container v-if=\"is_create\" class=\"pa-0\">\n            <v-row>\n            <v-col cols=\"2\">\n              <v-btn depressed block color=\"transparent\"  class=\"mb-2\"> \n                コース一覧\n              </v-btn>\n              <v-divider class=\"red\"></v-divider>\n            </v-col>  \n            <v-col cols=\"2\">\n              <v-btn depressed block color=\"transparent\"  class=\"mb-2\">\n                かりおき\n              </v-btn>\n            </v-col >  \n            <v-col cols=\"2\">\n              <v-btn depressed block color=\"transparent\"  class=\"mb-2\">\n                かりおき\n              </v-btn>\n            </v-col>  \n            </v-row>\n            <v-divider class=\"mt-0\"></v-divider>\n            <v-row class=\"mt-5\" >\n              <v-col cols=\"9\">\n                <v-subheader :class=\"['text-h5']\">作成したコース</v-subheader>\n              </v-col>\n              <v-col>\n                <v-btn depressed color=\"primary\" @click=\"add_course()\" value=\"POST\">\n                  + 新しいコース\n                </v-btn>\n              </v-col>\n            </v-row>\n            <v-row class=\"pa-2\">\n              <v-col cols=\"3\" v-for=\"course in this.courses\" :key=\"course.course_id\">\n                <v-card @click=\"move_to_course_info(course.course_id)\">\n                  <v-card-text>\n                    <p class=\"text-h6 text--primary\">\n                      {{course.course_name}}\n                    </p>\n                    <div class=\"body-2\">{{course.start_date_time}}</div>\n                    <div class=\"body-2\">{{course.end_date_time}}</div>\n                  </v-card-text>\n                </v-card>\n              </v-col>\n            </v-row>\n          </v-container>\n        </v-row>\n      </v-container>\n    </v-responsive>\n  </v-container>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  name: \"TeacherHome\",\n  created: function() {\n    let self = this\n    axios.get(\"http://localhost:8000/home_profile\", {withCredentials: true})\n        .then(function(response){\n          console.log(response.data)\n          self.user_info = response.data\n          self.is_create = response.data.create\n          if(self.is_create){\n            self.get_created_courses()\n          }\n        }).catch(\n          function(error)  {\n            console.log(error)\n            if(error.response.status == 401){\n              self.$router.push({name:'Signup'})\n            }else{\n              console.log(error.response)\n            }\n          }\n        )\n  },\n  data: () => ({\n    tab: null,\n    user_info : {},\n    is_create : false,\n    courses: {},\n  }),\n  methods:{\n      logout: function(){\n        let self = this\n        axios.get(\"http://localhost:8000/home_profile\", {withCredentials: true})\n        .then(function(response){\n          if(response.data.is_active){\n            self.go_login_page()\n          }\n        }).catch(\n          function(error){\n            console.log(error)\n            if(error.response.status == 401){\n              self.$router.push({name:'Login'})\n            }else{\n              console.log(error.response)\n            }\n          }\n        )\n      },\n      go_login_page: function(){\n        this.$router.push({name:'Login'})\n      },\n      add_course(){\n        this.$router.push({name:'RegisterCourse'})\n      },\n      move_to_course_info(course_id){\n        this.$router.push({name:'CourseInfo',params:{\"course_id\":course_id}})\n      },\n      get_created_courses(){\n        let self = this\n        axios.get(`http://localhost:8000/get_created_courses`, {withCredentials: true})\n        .then(function(response){\n          console.log(response.data)\n          self.courses = response.data\n        }).catch(function(error)  {\n          if(error.response.status == 401){\n            self.$router.push({name:'Login'})\n          }else{\n            console.log(error.response)\n          }\n        }\n      )\n    }\n  },\n};\n</script>\n"],"sourceRoot":"src/components/pages/teachers"}]}