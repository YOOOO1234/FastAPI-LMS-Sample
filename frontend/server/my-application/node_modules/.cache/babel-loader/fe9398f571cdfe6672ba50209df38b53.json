{"remainingRequest":"/app/my-application/node_modules/babel-loader/lib/index.js!/app/my-application/node_modules/cache-loader/dist/cjs.js??ref--1-0!/app/my-application/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/my-application/src/components/pages/students/FlowCompletion.vue?vue&type=script&lang=js&","dependencies":[{"path":"/app/my-application/src/components/pages/students/FlowCompletion.vue","mtime":1653637813518},{"path":"/app/my-application/babel.config.js","mtime":1653637813508},{"path":"/app/my-application/node_modules/cache-loader/dist/cjs.js","mtime":1653637948398},{"path":"/app/my-application/node_modules/babel-loader/lib/index.js","mtime":1653637958391},{"path":"/app/my-application/node_modules/cache-loader/dist/cjs.js","mtime":1653637948398},{"path":"/app/my-application/node_modules/vue-loader/lib/index.js","mtime":1653637954854}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IHsgbWFya2VkIH0gZnJvbSAnbWFya2VkJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJGbG93Q29tcGxldGlvbiIsCiAgcHJvcHM6IHsKICAgIGZsb3dfc2Vzc2lvbl9pZDogTnVtYmVyCiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgYXhpb3MuZ2V0KCJodHRwOi8vbG9jYWxob3N0OjgwMDAvaG9tZV9wcm9maWxlIiwgewogICAgICB3aXRoQ3JlZGVudGlhbHM6IHRydWUKICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpOwogICAgICBzZWxmLmdldF9pZHNfYnlfc2Vzc2lvbl9pZCgpOwogICAgICBzZWxmLmdldF9mbG93X2luZm8oKTsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICBpZiAoZXJyb3IucmVzcG9uc2Uuc3RhdHVzID09IDQwMSkgewogICAgICAgIHNlbGYuJHJvdXRlci5wdXNoKHsKICAgICAgICAgIG5hbWU6ICdMb2dpbicKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZSk7CiAgICAgIH0KICAgIH0pOwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZsb3c6IHt9LAogICAgICBjb21wbGV0aW9uX3BhZ2VfY29udGVudDogIiIsCiAgICAgIHVzZXJuYW1lOiAiIiwKICAgICAgaXNfY3JlYXRlcjogZmFsc2UsCiAgICAgIGZsb3dfdGl0bGU6ICIiLAogICAgICBmbG93X2lkOiBudWxsLAogICAgICBjb3Vyc2VfaWQ6IG51bGwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBtb3ZlX3RvX2Zsb3dfdG9wOiBmdW5jdGlvbiBtb3ZlX3RvX2Zsb3dfdG9wKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogJ0Zsb3cnLAogICAgICAgIHBhcmFtczogewogICAgICAgICAgY291cnNlX2lkOiB0aGlzLmNvdXJzZV9pZCwKICAgICAgICAgIGZsb3dfaWQ6IHRoaXMuZmxvd19pZAogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgbWFya2Rvd25Ub0h0bWw6IGZ1bmN0aW9uIG1hcmtkb3duVG9IdG1sKG1kKSB7CiAgICAgIHJldHVybiBtYXJrZWQobWQpOwogICAgfSwKICAgIGdldF9mbG93X2luZm86IGZ1bmN0aW9uIGdldF9mbG93X2luZm8oKSB7CiAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgYXhpb3MuZ2V0KCJodHRwOi8vbG9jYWxob3N0OjgwMDAvZ2V0X2Zsb3dfaW5mby8iLmNvbmNhdCh0aGlzLmZsb3dfc2Vzc2lvbl9pZCksIHsKICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IHRydWUKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTsKICAgICAgICBzZWxmLmZsb3dfdGl0bGUgPSByZXNwb25zZS5kYXRhLmZsb3dfdGl0bGU7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0X2NvbXBsZXRpb25fcGFnZTogZnVuY3Rpb24gZ2V0X2NvbXBsZXRpb25fcGFnZSgpIHsKICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICBheGlvcy5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9nZXRfZmxvd19jb21wbGV0aW9uX3BhZ2UvIi5jb25jYXQoc2VsZi5mbG93X2lkKSwgewogICAgICAgIHdpdGhDcmVkZW50aWFsczogdHJ1ZQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpOwogICAgICAgIHNlbGYuY29tcGxldGlvbl9wYWdlX2NvbnRlbnQgPSByZXNwb25zZS5kYXRhLmNvbnRlbnQ7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yLnJlc3BvbnNlKTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0X2lkc19ieV9zZXNzaW9uX2lkOiBmdW5jdGlvbiBnZXRfaWRzX2J5X3Nlc3Npb25faWQoKSB7CiAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgYXhpb3MuZ2V0KCJodHRwOi8vbG9jYWxob3N0OjgwMDAvZ2V0X2lkc19ieV9mbG93X3Nlc3Npb25faWQvIi5jb25jYXQoc2VsZi5mbG93X3Nlc3Npb25faWQpLCB7CiAgICAgICAgd2l0aENyZWRlbnRpYWxzOiB0cnVlCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7CiAgICAgICAgc2VsZi5mbG93X2lkID0gcmVzcG9uc2UuZGF0YS5mbG93X2lkOwogICAgICAgIHNlbGYuY291cnNlX2lkID0gcmVzcG9uc2UuZGF0YS5jb3Vyc2VfaWQ7CiAgICAgICAgc2VsZi5nZXRfY29tcGxldGlvbl9wYWdlKCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yLnJlc3BvbnNlKTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;AAqBA;AACA;AAEA;AACAA,wBADA;AAEAC;AACAC;AADA,GAFA;AAKAC;AACA;AACAC;AAAAC;AAAA,OACAC,IADA,CACA;AACAC;AACAC;AACAA;AACA,KALA,EAKAC,KALA,CAMA;AACA;AACAD;AAAAR;AAAA;AACA,OAFA,MAEA;AACAO;AACA;AACA,KAZA;AAcA,GArBA;AAsBAG;AAAA;AACAC,cADA;AAEAC,iCAFA;AAGAC,kBAHA;AAIAC,uBAJA;AAKAC,oBALA;AAMAC,mBANA;AAOAC;AAPA;AAAA,GAtBA;AA+BAC;AACAC,oBADA,8BACA;AACA;AAAAnB;AAAAoB;AAAAH;AAAAD;AAAA;AAAA;AACA,KAHA;AAIAK,kBAJA,0BAIAC,EAJA,EAIA;AACA;AACA,KANA;AAOAC,iBAPA,2BAOA;AACA;AACAnB;AAAAC;AAAA,SACAC,IADA,CACA;AACAC;AACAC;AACA,OAJA,EAIAC,KAJA,CAIA;AACAF;AACA,OANA;AAOA,KAhBA;AAiBAiB,uBAjBA,iCAiBA;AACA;AACApB;AAAAC;AAAA,SACAC,IADA,CACA;AACAC;AACAC;AACA,OAJA,EAIAC,KAJA,CAKA;AACAF;AACA,OAPA;AASA,KA5BA;AA6BAkB,yBA7BA,mCA6BA;AACA;AACArB;AAAAC;AAAA,SACAC,IADA,CACA;AACAC;AACAC;AACAA;AACAA;AACA,OANA,EAMAC,KANA,CAMA;AACAF;AACA,OARA;AASA;AAxCA;AA/BA","names":["name","props","flow_session_id","created","axios","withCredentials","then","console","self","catch","data","flow","completion_page_content","username","is_creater","flow_title","flow_id","course_id","methods","move_to_flow_top","params","markdownToHtml","md","get_flow_info","get_completion_page","get_ids_by_session_id"],"sources":["FlowCompletion.vue"],"sourcesContent":["<template>\n  <v-container>\n    <v-responsive :max-width=\"1200\" class=\"mx-auto\">\n      <v-container>\n        <v-subheader :class=\"['text-h5']\">{{flow_title}}</v-subheader>\n        <v-container class=\"mt-6\">\n          <v-row>\n            <div v-html=\"markdownToHtml(completion_page_content)\"></div>\n          </v-row>\n          <v-row class=\"mt-8\">\n            <v-btn depressed color=\"primary\" @click=\"move_to_flow_top()\">\n              フロートップに戻る\n            </v-btn>\n          </v-row>\n        </v-container>\n      </v-container>\n    </v-responsive>\n  </v-container>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { marked } from 'marked';\n\nexport default {\n  name: \"FlowCompletion\",\n  props: {\n    flow_session_id: Number\n  },\n  created: function() {\n    let self = this\n    axios.get(\"http://localhost:8000/home_profile\", {withCredentials: true})\n    .then(function(response){\n      console.log(response.data)\n      self.get_ids_by_session_id()\n      self.get_flow_info()\n    }).catch(\n      function(error)  {\n        if(error.response.status == 401){\n          self.$router.push({name:'Login'})\n        }else{\n          console.log(error.response)\n        }\n      }\n    )\n  },\n  data: () => ({\n    flow: {},\n    completion_page_content: \"\",\n    username : \"\",\n    is_creater : false,\n    flow_title : \"\",\n    flow_id: null,\n    course_id: null,\n  }),\n  methods:{\n    move_to_flow_top(){\n      this.$router.push({name:'Flow', params: {course_id:this.course_id, flow_id:this.flow_id}})\n    },\n    markdownToHtml(md){\n      return marked(md);\n    },\n    get_flow_info(){\n      let self = this\n      axios.get(`http://localhost:8000/get_flow_info/${this.flow_session_id}`, {withCredentials: true})\n      .then(function(response){\n        console.log(response.data)\n        self.flow_title = response.data.flow_title\n      }).catch(function(error){\n        console.log(error)\n      })\n    },\n    get_completion_page(){\n      let self = this\n      axios.get(`http://localhost:8000/get_flow_completion_page/${self.flow_id}`, {withCredentials: true})\n      .then(function(response){\n        console.log(response.data)\n        self.completion_page_content= response.data.content\n      }).catch(\n        function(error){\n          console.log(error.response)\n        }\n      )\n    },\n    get_ids_by_session_id(){\n      let self = this\n      axios.get(`http://localhost:8000/get_ids_by_flow_session_id/${self.flow_session_id}`, {withCredentials: true})\n      .then(function(response){\n        console.log(response.data)\n        self.flow_id = response.data.flow_id\n        self.course_id = response.data.course_id\n        self.get_completion_page()\n      }).catch(function(error){\n        console.log(error.response)\n      })\n    },\n  },\n};\n</script>\n"],"sourceRoot":"src/components/pages/students"}]}