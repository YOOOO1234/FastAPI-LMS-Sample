{"remainingRequest":"/app/my-application/node_modules/babel-loader/lib/index.js!/app/my-application/node_modules/cache-loader/dist/cjs.js??ref--1-0!/app/my-application/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/my-application/src/components/pages/students/Flow.vue?vue&type=script&lang=js&","dependencies":[{"path":"/app/my-application/src/components/pages/students/Flow.vue","mtime":1653636015772},{"path":"/app/my-application/babel.config.js","mtime":1652423115214},{"path":"/app/my-application/node_modules/cache-loader/dist/cjs.js","mtime":1652423462045},{"path":"/app/my-application/node_modules/babel-loader/lib/index.js","mtime":1652423464641},{"path":"/app/my-application/node_modules/cache-loader/dist/cjs.js","mtime":1652423462045},{"path":"/app/my-application/node_modules/vue-loader/lib/index.js","mtime":1652423456009}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IHsgbWFya2VkIH0gZnJvbSAnbWFya2VkJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJGbG93IiwKICBwcm9wczogewogICAgY291cnNlX2lkOiBOdW1iZXIsCiAgICBmbG93X2lkOiBOdW1iZXIKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICBheGlvcy5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9ob21lX3Byb2ZpbGUiLCB7CiAgICAgIHdpdGhDcmVkZW50aWFsczogdHJ1ZQogICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7CiAgICAgIHNlbGYudXNlcm5hbWUgPSByZXNwb25zZS5kYXRhLnVzZXJuYW1lOwogICAgICBzZWxmLmlzX2NyZWF0ZXIgPSByZXNwb25zZS5kYXRhLmNyZWF0ZTsKICAgICAgYXhpb3MuZ2V0KCJodHRwOi8vbG9jYWxob3N0OjgwMDAvZ2V0X2Zsb3cvIi5jb25jYXQoc2VsZi5mbG93X2lkKSwgewogICAgICAgIHdpdGhDcmVkZW50aWFsczogdHJ1ZQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpOwogICAgICAgIHNlbGYuZmxvdyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yLnJlc3BvbnNlKTsKICAgICAgfSk7CiAgICAgIGF4aW9zLmdldCgiaHR0cDovL2xvY2FsaG9zdDo4MDAwL2dldF9mbG93X3dlbGNvbWVfcGFnZS8iLmNvbmNhdChzZWxmLmZsb3dfaWQpLCB7CiAgICAgICAgd2l0aENyZWRlbnRpYWxzOiB0cnVlCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7CiAgICAgICAgc2VsZi53ZWxjb21lX3BhZ2VfY29udGVudCA9IHJlc3BvbnNlLmRhdGEuY29udGVudDsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IucmVzcG9uc2UpOwogICAgICB9KTsKICAgICAgYXhpb3MuZ2V0KCJodHRwOi8vbG9jYWxob3N0OjgwMDAvZ2V0X2Zsb3dfc2Vzc2lvbnMvIi5jb25jYXQoc2VsZi5mbG93X2lkKSwgewogICAgICAgIHdpdGhDcmVkZW50aWFsczogdHJ1ZQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpOwogICAgICAgIHNlbGYuZmxvd19zZXNzaW9ucyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yLnJlc3BvbnNlKTsKICAgICAgfSk7CiAgICAgIGF4aW9zLmdldCgiaHR0cDovL2xvY2FsaG9zdDo4MDAwL2dldF9jb3Vyc2UvIi5jb25jYXQoc2VsZi5jb3Vyc2VfaWQpLCB7CiAgICAgICAgd2l0aENyZWRlbnRpYWxzOiB0cnVlCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7CiAgICAgICAgc2VsZi5jb3Vyc2UgPSByZXNwb25zZS5kYXRhOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZSk7CiAgICAgIH0pOwogICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgIGlmIChlcnJvci5yZXNwb25zZS5zdGF0dXMgPT0gNDAxKSB7CiAgICAgICAgc2VsZi4kcm91dGVyLnB1c2goewogICAgICAgICAgbmFtZTogJ1NpZ251cCcKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZSk7CiAgICAgIH0KICAgIH0pOwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZsb3c6IHt9LAogICAgICB3ZWxjb21lX3BhZ2VfY29udGVudDogIiIsCiAgICAgIHVzZXJuYW1lOiAiIiwKICAgICAgaXNfY3JlYXRlcjogZmFsc2UsCiAgICAgIG1hcmtkb3duOiAiIyBIZWxsbyBXb3JsZCIsCiAgICAgIGZsb3dfc2Vzc2lvbnM6IFtdLAogICAgICBjb3Vyc2U6IHt9CiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgbWFya2Rvd25Ub0h0bWw6IGZ1bmN0aW9uIG1hcmtkb3duVG9IdG1sKG1kKSB7CiAgICAgIHJldHVybiBtYXJrZWQobWQpOwogICAgfSwKICAgIHN0YXJ0X25ld19mbG93X3Nlc3Npb246IGZ1bmN0aW9uIHN0YXJ0X25ld19mbG93X3Nlc3Npb24oKSB7CiAgICAgIHZhciBwYXJhbXMgPSB7CiAgICAgICAgImZsb3dfaWQiOiB0aGlzLmZsb3dfaWQKICAgICAgfTsKICAgICAgdmFyIGNvbmZpZyA9IHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nCiAgICAgICAgfSwKICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IHRydWUKICAgICAgfTsKICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICBheGlvcy5wb3N0KCJodHRwOi8vbG9jYWxob3N0OjgwMDAvc3RhcnRfbmV3X2Zsb3dfc2Vzc2lvbiIsIHBhcmFtcywgY29uZmlnKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpOwoKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdGFydF9zdWNjZXNzKSB7CiAgICAgICAgICBzZWxmLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgIG5hbWU6ICdGbG93U2Vzc2lvbicsCiAgICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAgIGZsb3dfc2Vzc2lvbl9pZDogcmVzcG9uc2UuZGF0YS5mbG93X3Nlc3Npb25faWQsCiAgICAgICAgICAgICAgcGFnZV9udW06IDEKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0pOwogICAgfSwKICAgIGdvX3RvX2NvdXJzZTogZnVuY3Rpb24gZ29fdG9fY291cnNlKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogJ0NvdXJzZScsCiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBjb3Vyc2VfaWQ6IHRoaXMuY291cnNlX2lkCiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICByZXN0YXJ0X2Zsb3dfc2Vzc2lvbjogZnVuY3Rpb24gcmVzdGFydF9mbG93X3Nlc3Npb24oZmxvd19zZXNzaW9uX2lkKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAnRmxvd1Nlc3Npb24nLAogICAgICAgIHBhcmFtczogewogICAgICAgICAgZmxvd19zZXNzaW9uX2lkOiBmbG93X3Nlc3Npb25faWQsCiAgICAgICAgICBwYWdlX251bTogMQogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyEA;AACA;AAEA;EACAA,YADA;EAEAC;IACAC,iBADA;IAEAC;EAFA,CAFA;EAMAC;IACA;IACAC;MAAAC;IAAA,GACAC,IADA,CACA;MACAC;MACAC;MACAA;MACAJ;QAAAC;MAAA,GACAC,IADA,CACA;QACAC;QACAC;MACA,CAJA,EAIAC,KAJA,CAKA;QACAF;MACA,CAPA;MASAH;QAAAC;MAAA,GACAC,IADA,CACA;QACAC;QACAC;MACA,CAJA,EAIAC,KAJA,CAKA;QACAF;MACA,CAPA;MASAH;QAAAC;MAAA,GACAC,IADA,CACA;QACAC;QACAC;MACA,CAJA,EAIAC,KAJA,CAKA;QACAF;MACA,CAPA;MASAH;QAAAC;MAAA,GACAC,IADA,CACA;QACAC;QACAC;MACA,CAJA,EAIAC,KAJA,CAKA;QACAF;MACA,CAPA;IASA,CAzCA,EAyCAE,KAzCA,CA0CA;MACA;QACAD;UAAAT;QAAA;MACA,CAFA,MAEA;QACAQ;MACA;IACA,CAhDA;EAkDA,CA1DA;EA2DAG;IAAA;MACAC,QADA;MAEAC,wBAFA;MAGAC,YAHA;MAIAC,iBAJA;MAKAC,yBALA;MAMAC,iBANA;MAOAC;IAPA;EAAA,CA3DA;EAoEAC;IACAC,cADA,0BACAC,EADA,EACA;MACA;IACA,CAHA;IAIAC,sBAJA,oCAIA;MACA;QAAA;MAAA;MACA;QACAC;UACA;QADA,CADA;QAIAjB;MAJA;MAMA;MACAD,2EACAE,IADA,CACA;QACAC;;QACA;UACAC;YAAAT;YAAAwB;cAAAC;cAAAC;YAAA;UAAA;QACA;MACA,CANA,EAMAhB,KANA,CAOA;QACAF;MACA,CATA;IAWA,CAxBA;IAyBAmB,YAzBA,0BAyBA;MACA;QAAA3B;QAAAwB;UAAAtB;QAAA;MAAA;IACA,CA3BA;IA4BA0B,oBA5BA,gCA4BAH,eA5BA,EA4BA;MACA;QAAAzB;QAAAwB;UAAAC;UAAAC;QAAA;MAAA;IACA;EA9BA;AApEA","names":["name","props","course_id","flow_id","created","axios","withCredentials","then","console","self","catch","data","flow","welcome_page_content","username","is_creater","markdown","flow_sessions","course","methods","markdownToHtml","md","start_new_flow_session","headers","params","flow_session_id","page_num","go_to_course","restart_flow_session"],"sources":["Flow.vue"],"sourcesContent":["<template>\n  <v-container>\n    <v-responsive :max-width=\"1200\" class=\"mx-auto\">\n      <v-container>\n        <v-subheader :class=\"['text-h5']\">{{flow.title}}</v-subheader>\n        <v-responsive >\n          <v-container class=\"pa-0\">\n            <div :class=\"`rounded-lg`\" class=\"grey lighten-3\" v-if=\"this.flow_sessions.length > 0\">\n              <v-container class=\"pa-1\">\n                <v-row no-gutters>\n                  <v-col cols=\"1\" class=\"text-center\">\n                    #\n                  </v-col>\n                  <v-col cols=\"4\" class=\"text-center\">\n                    start_datetime\n                  </v-col>\n                  <v-col cols=\"4\" class=\"text-center\">\n                    finish_datetime\n                  </v-col>\n                  <v-col cols=\"2\" class=\"text-center\">\n                    Finished\n                  </v-col>\n                  <v-col cols=\"1\" class=\"text-center\">\n                    Restart\n                  </v-col>\n                </v-row>\n                <v-row v-for=\"(flow_session,i) in this.flow_sessions\" :key=\"flow_session.id\" class=\"pa-0 ma-0\" no-gutters>\n                  <v-col cols=\"1\" class=\"text-center\">\n                    {{i+1}}\n                  </v-col>\n                  <v-col cols=\"4\" class=\"text-center\">\n                    {{flow_session.start_date_time}}\n                  </v-col>\n                  <v-col cols=\"4\" v-if=\"flow_session.finish_date_time\" class=\"text-center\">\n                    {{flow_session.finish_date_time}}\n                  </v-col>\n                  <v-col cols=\"4\" v-if=\"!flow_session.finish_date_time\" class=\"text-center\">\n                    -\n                  </v-col>\n                  <v-col cols=\"2\" class=\"text-center\">\n                    {{flow_session.is_finished}}\n                  </v-col>\n                  <v-col cols=\"1\" class=\"text-center pa-1\" >\n                    <v-btn @click=\"restart_flow_session(flow_session.id)\" small>\n                      start\n                    </v-btn>\n                  </v-col>\n                </v-row>\n              </v-container>\n            </div>\n          </v-container>\n        </v-responsive>\n        <v-container class=\"mt-6\">\n          <v-row>\n            <div v-html=\"markdownToHtml(welcome_page_content)\"></div>\n          </v-row>\n          <v-row class=\"mt-8\">\n            <v-btn depressed color=\"primary\" @click=\"start_new_flow_session()\">\n              Start New Flow Session\n            </v-btn>\n          </v-row>\n          <v-row class=\"mt-8\">\n            <v-btn depressed color=\"primary\" @click=\"go_to_course()\">\n              Go To Course\n            </v-btn>\n          </v-row>\n        </v-container>\n      </v-container>\n    </v-responsive>\n  </v-container>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { marked } from 'marked';\n\nexport default {\n  name: \"Flow\",\n  props: {\n    course_id: Number,\n    flow_id: Number\n  },\n  created: function() {\n    let self = this\n    axios.get(\"http://localhost:8000/home_profile\", {withCredentials: true})\n        .then(function(response){\n          console.log(response.data)\n          self.username = response.data.username\n          self.is_creater = response.data.create\n          axios.get(`http://localhost:8000/get_flow/${self.flow_id}`, {withCredentials: true})\n          .then(function(response){\n            console.log(response.data)\n            self.flow = response.data\n          }).catch(\n            function(error){\n              console.log(error.response)\n            }\n          )\n          axios.get(`http://localhost:8000/get_flow_welcome_page/${self.flow_id}`, {withCredentials: true})\n          .then(function(response){\n            console.log(response.data)\n            self.welcome_page_content = response.data.content\n          }).catch(\n            function(error){\n              console.log(error.response)\n            }\n          )\n          axios.get(`http://localhost:8000/get_flow_sessions/${self.flow_id}`, {withCredentials: true})\n          .then(function(response){\n            console.log(response.data)\n            self.flow_sessions = response.data\n          }).catch(\n            function(error){\n              console.log(error.response)\n            }\n          )\n          axios.get(`http://localhost:8000/get_course/${self.course_id}`, {withCredentials: true})\n          .then(function(response){\n            console.log(response.data)\n            self.course = response.data\n          }).catch(\n            function(error){\n              console.log(error.response)\n            }\n          )\n        }).catch(\n          function(error)  {\n            if(error.response.status == 401){\n              self.$router.push({name:'Signup'})\n            }else{\n              console.log(error.response)\n            }\n          }\n        )\n  },\n  data: () => ({\n    flow: {},\n    welcome_page_content: \"\",\n    username : \"\",\n    is_creater : false,\n    markdown:  \"# Hello World\",\n    flow_sessions: [],\n    course: {}\n  }),\n  methods:{\n      markdownToHtml(md){\n        return marked(md);\n      },\n      start_new_flow_session(){\n        const params = {\"flow_id\":this.flow_id}\n        const config = {\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          withCredentials: true\n        };\n        let self = this\n        axios.post(`http://localhost:8000/start_new_flow_session`, params, config)\n          .then(function(response){\n            console.log(response.data)\n            if(response.data.start_success){\n              self.$router.push({name:'FlowSession', params: {flow_session_id: response.data.flow_session_id, page_num: 1}})\n            }\n          }).catch(\n            function(error){\n              console.log(error)\n            }\n          )\n      },\n      go_to_course(){\n        this.$router.push({name:'Course', params: {course_id:this.course_id}})\n      },\n      restart_flow_session(flow_session_id){\n        this.$router.push({name:'FlowSession', params: {flow_session_id: flow_session_id, page_num: 1}})\n      }\n  },\n};\n</script>\n"],"sourceRoot":"src/components/pages/students"}]}