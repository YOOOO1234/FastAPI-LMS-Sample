{"remainingRequest":"/app/my-application/node_modules/babel-loader/lib/index.js!/app/my-application/node_modules/cache-loader/dist/cjs.js??ref--1-0!/app/my-application/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/my-application/src/components/pages/students/FlowSession.vue?vue&type=script&lang=js&","dependencies":[{"path":"/app/my-application/src/components/pages/students/FlowSession.vue","mtime":1653185430990},{"path":"/app/my-application/babel.config.js","mtime":1652423115214},{"path":"/app/my-application/node_modules/cache-loader/dist/cjs.js","mtime":1652423462045},{"path":"/app/my-application/node_modules/babel-loader/lib/index.js","mtime":1652423464641},{"path":"/app/my-application/node_modules/cache-loader/dist/cjs.js","mtime":1652423462045},{"path":"/app/my-application/node_modules/vue-loader/lib/index.js","mtime":1652423456009}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IFNpbXBsZVBhZ2UgZnJvbSAnLi4vLi4vbW9kdWxlcy9TaW1wbGVQYWdlLnZ1ZSc7CmltcG9ydCBTaW5nbGVUZXh0UXVlc3Rpb24gZnJvbSAnLi4vLi4vbW9kdWxlcy9TaW5nbGVUZXh0UXVlc3Rpb24udnVlJzsKaW1wb3J0IE11bHRpcGxlVGV4dFF1ZXN0aW9uIGZyb20gJy4uLy4uL21vZHVsZXMvTXVsdGlwbGVUZXh0UXVlc3Rpb24udnVlJzsKaW1wb3J0IERlc2NyaXB0aXZlVGV4dFF1ZXN0aW9uIGZyb20gJy4uLy4uL21vZHVsZXMvRGVzY3JpcHRpdmVUZXh0UXVlc3Rpb24udnVlJzsKaW1wb3J0IENob2ljZVF1ZXN0aW9uIGZyb20gJy4uLy4uL21vZHVsZXMvQ2hvaWNlUXVlc3Rpb24udnVlJzsKaW1wb3J0IEZsb3dTZXNzaW9uTG9jYXRpb25CYXIgZnJvbSAnLi4vLi4vbW9kdWxlcy9GbG93U2Vzc2lvbkxvY2F0aW9uQmFyLnZ1ZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiRmxvd1Nlc3Npb24iLAogIHByb3BzOiB7CiAgICBmbG93X3Nlc3Npb25faWQ6IE51bWJlciwKICAgIHBhZ2VfbnVtOiBOdW1iZXIKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIFNpbXBsZVBhZ2U6IFNpbXBsZVBhZ2UsCiAgICBTaW5nbGVUZXh0UXVlc3Rpb246IFNpbmdsZVRleHRRdWVzdGlvbiwKICAgIE11bHRpcGxlVGV4dFF1ZXN0aW9uOiBNdWx0aXBsZVRleHRRdWVzdGlvbiwKICAgIERlc2NyaXB0aXZlVGV4dFF1ZXN0aW9uOiBEZXNjcmlwdGl2ZVRleHRRdWVzdGlvbiwKICAgIENob2ljZVF1ZXN0aW9uOiBDaG9pY2VRdWVzdGlvbiwKICAgIEZsb3dTZXNzaW9uTG9jYXRpb25CYXI6IEZsb3dTZXNzaW9uTG9jYXRpb25CYXIKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldF9mbG93X2luZm8oKTsKICAgIHRoaXMudXBkYXRlX2RhdGEoKTsKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmbG93X3RpdGxlOiAiIiwKICAgICAgbnVtX29mX3BhZ2VzOiAxLAogICAgICBwYWdlOiB7CiAgICAgICAgInRpdGxlIjogIiIKICAgICAgfSwKICAgICAgcGFnZV9jb250ZW50OiB7fSwKICAgICAgdXNlcm5hbWU6ICIiLAogICAgICBpc19jcmVhdGVyOiBmYWxzZSwKICAgICAgY29tcG9uZW50TmFtZTogIiIsCiAgICAgIGJsYW5rX2Fuc3dlcnM6IFtdCiAgICB9OwogIH0sCiAgYmVmb3JlUm91dGVVcGRhdGU6IGZ1bmN0aW9uIGJlZm9yZVJvdXRlVXBkYXRlKHRvLCBmcm9tLCBuZXh0KSB7CiAgICB0aGlzLnVwZGF0ZV9kYXRhKCk7CiAgICBuZXh0KCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRfZmxvd19pbmZvOiBmdW5jdGlvbiBnZXRfZmxvd19pbmZvKCkgewogICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgIGF4aW9zLmdldCgiaHR0cDovL2xvY2FsaG9zdDo4MDAwL2dldF9mbG93X2luZm8vIi5jb25jYXQodGhpcy5mbG93X3Nlc3Npb25faWQpLCB7CiAgICAgICAgd2l0aENyZWRlbnRpYWxzOiB0cnVlCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7CiAgICAgICAgc2VsZi5mbG93X3RpdGxlID0gcmVzcG9uc2UuZGF0YS5mbG93X3RpdGxlOwogICAgICAgIHNlbGYubnVtX29mX3BhZ2VzID0gcmVzcG9uc2UuZGF0YS5udW1fb2ZfcGFnZXM7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfSk7CiAgICB9LAogICAgdXBkYXRlX2RhdGE6IGZ1bmN0aW9uIHVwZGF0ZV9kYXRhKCkgewogICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgIGF4aW9zLmdldCgiaHR0cDovL2xvY2FsaG9zdDo4MDAwL2hvbWVfcHJvZmlsZSIsIHsKICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IHRydWUKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTsKICAgICAgICBzZWxmLnVzZXJuYW1lID0gcmVzcG9uc2UuZGF0YS51c2VybmFtZTsKICAgICAgICBzZWxmLmlzX2NyZWF0ZXIgPSByZXNwb25zZS5kYXRhLmNyZWF0ZTsKICAgICAgICBheGlvcy5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9nZXRfZmxvd3BhZ2UvIi5jb25jYXQoc2VsZi5mbG93X3Nlc3Npb25faWQsICIvIikuY29uY2F0KHNlbGYucGFnZV9udW0pLCB7CiAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IHRydWUKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICBzZWxmLnBhZ2UgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgc2VsZi5wYWdlX2NvbnRlbnQgPSByZXNwb25zZS5kYXRhLnBhZ2VfY29udGVudDsKICAgICAgICAgIHNlbGYuY29tcG9uZW50TmFtZSA9IHJlc3BvbnNlLmRhdGEucGFnZV90eXBlOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IucmVzcG9uc2UpOwogICAgICAgIH0pOwogICAgICAgIGF4aW9zLmdldCgiaHR0cDovL2xvY2FsaG9zdDo4MDAwL2dldF9ibGFua19hbnN3ZXIvIi5jb25jYXQoc2VsZi5mbG93X3Nlc3Npb25faWQsICIvIikuY29uY2F0KHNlbGYucGFnZV9udW0pLCB7CiAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IHRydWUKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICBzZWxmLmJsYW5rX2Fuc3dlcnMgPSByZXNwb25zZS5kYXRhOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IucmVzcG9uc2UpOwogICAgICAgIH0pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2Uuc3RhdHVzID09IDQwMSkgewogICAgICAgICAgc2VsZi4kcm91dGVyLnB1c2goewogICAgICAgICAgICBuYW1lOiAnU2lnbnVwJwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yLnJlc3BvbnNlKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGdvX3ByZXZpb3VzX3BhZ2U6IGZ1bmN0aW9uIGdvX3ByZXZpb3VzX3BhZ2UoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAnRmxvd1Nlc3Npb24nLAogICAgICAgIHBhcmFtczogewogICAgICAgICAgZmxvd19zZXNzaW9uX2lkOiB0aGlzLmZsb3dfc2Vzc2lvbl9pZCwKICAgICAgICAgIHBhZ2VfbnVtOiB0aGlzLnBhZ2VfbnVtIC0gMSwKICAgICAgICAgIGJsYW5rX2Fuc3dlcnM6IHRoaXMuYmxhbmtfYW5zd2VycwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgZ29fbmV4dF9wYWdlOiBmdW5jdGlvbiBnb19uZXh0X3BhZ2UoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAnRmxvd1Nlc3Npb24nLAogICAgICAgIHBhcmFtczogewogICAgICAgICAgZmxvd19zZXNzaW9uX2lkOiB0aGlzLmZsb3dfc2Vzc2lvbl9pZCwKICAgICAgICAgIHBhZ2VfbnVtOiB0aGlzLnBhZ2VfbnVtICsgMSwKICAgICAgICAgIGJsYW5rX2Fuc3dlcnM6IHRoaXMuYmxhbmtfYW5zd2VycwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACAA,qBADA;AAEAC;AACAC,2BADA;AAEAC;AAFA,GAFA;AAMAC;AACAC,0BADA;AAEAC,0CAFA;AAGAC,8CAHA;AAIAC,oDAJA;AAKAC,kCALA;AAMAC;AANA,GANA;AAcAC;AACA;AACA;AACA,GAjBA;AAkBAC;AAAA;AACAC,oBADA;AAEAC,qBAFA;AAGAC;AAAA;AAAA,OAHA;AAIAC,sBAJA;AAKAC,kBALA;AAMAC,uBANA;AAOAC,uBAPA;AAQAC;AARA;AAAA,GAlBA;AA4BAC,mBA5BA,6BA4BAC,EA5BA,EA4BAC,IA5BA,EA4BAC,IA5BA,EA4BA;AACA;AACAA;AACA,GA/BA;AAgCAC;AACAC,iBADA,2BACA;AACA;AACAC;AAAAC;AAAA,SACAC,IADA,CACA;AACAC;AACAC;AACAA;AACA,OALA,EAKAC,KALA,CAKA;AACAF;AACA,OAPA;AAQA,KAXA;AAYAG,eAZA,yBAYA;AACA;AACAN;AAAAC;AAAA,SACAC,IADA,CACA;AACAC;AACAC;AACAA;AACAJ;AAAAC;AAAA,WACAC,IADA,CACA;AACAC;AACAC;AACAA;AACAA;AACA,SANA,EAMAC,KANA,CAMA;AACAF;AACA,SARA;AASAH;AAAAC;AAAA,WACAC,IADA,CACA;AACAC;AACAC;AACA,SAJA,EAIAC,KAJA,CAIA;AACAF;AACA,SANA;AAOA,OArBA,EAqBAE,KArBA,CAqBA;AACA;AACAD;AAAA/B;AAAA;AACA,SAFA,MAEA;AACA8B;AACA;AACA,OA3BA;AA4BA,KA1CA;AA2CAI,oBA3CA,8BA2CA;AACA;AAAAlC;AAAAmC;AAAAjC;AAAAC;AAAAiB;AAAA;AAAA;AACA,KA7CA;AA8CAgB,gBA9CA,0BA8CA;AACA;AAAApC;AAAAmC;AAAAjC;AAAAC;AAAAiB;AAAA;AAAA;AACA;AAhDA;AAhCA","names":["name","props","flow_session_id","page_num","components","SimplePage","SingleTextQuestion","MultipleTextQuestion","DescriptiveTextQuestion","ChoiceQuestion","FlowSessionLocationBar","created","data","flow_title","num_of_pages","page","page_content","username","is_creater","componentName","blank_answers","beforeRouteUpdate","to","from","next","methods","get_flow_info","axios","withCredentials","then","console","self","catch","update_data","go_previous_page","params","go_next_page"],"sources":["FlowSession.vue"],"sourcesContent":["<template>\n  <v-container class=\"mx-auto\">\n    <v-responsive :min-width=\"800\" :max-width=\"1200\" class=\"mx-auto\">\n      <v-container >  \n        <v-subheader :class=\"['text-h5']\">{{this.flow_title}}</v-subheader>\n          <v-container>\n            <flow-session-location-bar :page_num='this.page_num' :flow_session_id=\"this.flow_session_id\" :num_of_pages=\"this.num_of_pages\"></flow-session-location-bar>\n          </v-container>\n          <v-subheader :class=\"['text-h5']\">問題{{page_num}}</v-subheader>\n          <v-responsive :min-height=\"600\">\n            <v-container fluid>\n                <component :is=\"componentName\" :page_content='page_content' :flow_session_id='flow_session_id' :page_num='page_num' :blank_answers=\"blank_answers\"></component>\n            </v-container>\n          </v-responsive>\n          <v-container >\n            <v-row>\n              <v-col>\n                <v-btn @click=\"go_previous_page()\" v-if=\"this.page_num > 1\"> 前のページ  </v-btn>\n              </v-col>\n              <v-col class=\"d-flex align-end flex-column\">\n                <v-btn @click=\"go_next_page()\" v-if=\"this.page_num < this.num_of_pages\"> 次のページ </v-btn>\n              </v-col>\n            </v-row>\n          </v-container>\n      </v-container>\n    </v-responsive>\n  </v-container>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport SimplePage from '../../modules/SimplePage.vue'\nimport SingleTextQuestion from '../../modules/SingleTextQuestion.vue'\nimport MultipleTextQuestion from '../../modules/MultipleTextQuestion.vue'\nimport DescriptiveTextQuestion from '../../modules/DescriptiveTextQuestion.vue'\nimport ChoiceQuestion from '../../modules/ChoiceQuestion.vue'\nimport FlowSessionLocationBar from '../../modules/FlowSessionLocationBar.vue'\n\nexport default {\n  name: \"FlowSession\",\n  props: {\n    flow_session_id: Number,\n    page_num: Number,\n  },\n  components: {\n    SimplePage,\n    SingleTextQuestion,\n    MultipleTextQuestion,\n    DescriptiveTextQuestion,\n    ChoiceQuestion,\n    FlowSessionLocationBar,\n  },\n  created: function() {\n    this.get_flow_info()\n    this.update_data()\n  },\n  data: () => ({\n    flow_title: \"\",\n    num_of_pages: 1,\n    page: {\"title\":\"\"},\n    page_content: {},\n    username : \"\",\n    is_creater : false,\n    componentName: \"\",\n    blank_answers: [],\n  }),\n  beforeRouteUpdate (to, from, next) {\n    this.update_data()\n    next();\n  },\n  methods:{\n    get_flow_info(){\n      let self = this\n      axios.get(`http://localhost:8000/get_flow_info/${this.flow_session_id}`, {withCredentials: true})\n      .then(function(response){\n        console.log(response.data)\n        self.flow_title = response.data.flow_title\n        self.num_of_pages = response.data.num_of_pages\n      }).catch(function(error){\n        console.log(error)\n      })\n    },\n    update_data(){\n      let self = this\n      axios.get(\"http://localhost:8000/home_profile\", {withCredentials: true})\n      .then(function(response){\n        console.log(response.data)\n        self.username = response.data.username\n        self.is_creater = response.data.create\n        axios.get(`http://localhost:8000/get_flowpage/${self.flow_session_id}/${self.page_num}`, {withCredentials: true})\n        .then(function(response){\n          console.log(response.data)\n          self.page = response.data\n          self.page_content = response.data.page_content\n          self.componentName = response.data.page_type\n        }).catch(function(error){\n          console.log(error.response)\n        })\n        axios.get(`http://localhost:8000/get_blank_answer/${self.flow_session_id}/${self.page_num}`, {withCredentials: true})\n        .then(function(response){\n          console.log(response.data)\n          self.blank_answers = response.data\n        }).catch(function(error){\n          console.log(error.response)\n        })\n        }).catch(function(error)  {\n          if(error.response.status == 401){\n            self.$router.push({name:'Signup'})\n          }else{\n            console.log(error.response)\n          }\n        })\n    },\n    go_previous_page(){\n      this.$router.push({name:'FlowSession', params: {flow_session_id: this.flow_session_id, page_num: this.page_num-1, blank_answers: this.blank_answers}})\n    },\n    go_next_page(){\n      this.$router.push({name:'FlowSession', params: {flow_session_id: this.flow_session_id, page_num: this.page_num+1, blank_answers: this.blank_answers}})\n    },\n    \n\n  },\n};\n</script>\n"],"sourceRoot":"src/components/pages/students"}]}