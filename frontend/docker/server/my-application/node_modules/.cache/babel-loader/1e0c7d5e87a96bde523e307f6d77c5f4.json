{"remainingRequest":"/app/my-application/node_modules/babel-loader/lib/index.js!/app/my-application/node_modules/cache-loader/dist/cjs.js??ref--1-0!/app/my-application/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/my-application/src/components/pages/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/app/my-application/src/components/pages/Login.vue","mtime":1653185430988},{"path":"/app/my-application/babel.config.js","mtime":1652423115214},{"path":"/app/my-application/node_modules/cache-loader/dist/cjs.js","mtime":1652423462045},{"path":"/app/my-application/node_modules/babel-loader/lib/index.js","mtime":1652423464641},{"path":"/app/my-application/node_modules/cache-loader/dist/cjs.js","mtime":1652423462045},{"path":"/app/my-application/node_modules/vue-loader/lib/index.js","mtime":1652423456009}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJMb2dpbiIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGVtYWlsOiAibmVvQG5lby5jb20iLAogICAgICBwYXNzd29yZDogIm5lb25lbyIsCiAgICAgIGVtYWlsX3J1bGVzOiBbZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgcmV0dXJuICEhdmFsdWUgfHwgJ1JlcXVpcmVkLic7CiAgICAgIH1dLAogICAgICBwYXNzd29yZF9ydWxlczogW2Z1bmN0aW9uICh2YWx1ZSkgewogICAgICAgIHJldHVybiAhIXZhbHVlIHx8ICdSZXF1aXJlZC4nOwogICAgICB9XQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGxvZ2luOiBmdW5jdGlvbiBsb2dpbigpIHsKICAgICAgY29uc29sZS5sb2codGhpcy5lbWFpbCwgdGhpcy5wYXNzd29yZCk7CiAgICAgIHZhciBjb25maWcgPSB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJwogICAgICAgIH0sCiAgICAgICAgd2l0aENyZWRlbnRpYWxzOiB0cnVlCiAgICAgIH07CiAgICAgIHZhciBwYXJhbXMgPSB7CiAgICAgICAgZW1haWw6IHRoaXMuZW1haWwsCiAgICAgICAgcGFzc3dvcmQ6IHRoaXMucGFzc3dvcmQKICAgICAgfTsKICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICBheGlvcy5wb3N0KCJodHRwOi8vbG9jYWxob3N0OjgwMDAvdG9rZW4iLCBwYXJhbXMsIGNvbmZpZykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTsKICAgICAgICBheGlvcy5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9ob21lX3Byb2ZpbGUiLCB7CiAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IHRydWUKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuY3JlYXRlKSB7CiAgICAgICAgICAgIHNlbGYuZ29fdGVhY2hlcl9ob21lKCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBzZWxmLmdvX3N0dWRlbnRzX2hvbWUoKTsKICAgICAgICAgIH0KICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKCiAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2Uuc3RhdHVzID09IDQwMSkgewogICAgICAgICAgICBzZWxmLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgbmFtZTogJ1NpZ251cCcKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfSk7CiAgICB9LAogICAgZ29fc2lnbnVwX3BhZ2U6IGZ1bmN0aW9uIGdvX3NpZ251cF9wYWdlKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogJ1NpZ251cCcKICAgICAgfSk7CiAgICB9LAogICAgZ29fc3R1ZGVudHNfaG9tZTogZnVuY3Rpb24gZ29fc3R1ZGVudHNfaG9tZSgpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICdTdHVkZW50SG9tZScKICAgICAgfSk7CiAgICB9LAogICAgZ29fdGVhY2hlcl9ob21lOiBmdW5jdGlvbiBnb190ZWFjaGVyX2hvbWUoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAnVGVhY2hlckhvbWUnCiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;AAiBA;AACA;EAEAA,aAFA;EAGAC;IAAA;MACAC,oBADA;MAEAC,kBAFA;MAGAC,cACA;QAAA;MAAA,CADA,CAHA;MAMAC,iBACA;QAAA;MAAA,CADA;IANA;EAAA,CAHA;EAaAC;IACAC;MACAC;MACA;QACAC;UACA;QADA,CADA;QAIAC;MAJA;MAMA;QAAAR;QAAAC;MAAA;MACA;MACAQ,0DACAC,IADA,CACA;QACAJ;QACAG;UAAAD;QAAA,GACAE,IADA,CACA;UACA;YACAC;UACA,CAFA,MAEA;YACAA;UACA;QACA,CAPA,EAOAC,KAPA,CAQA;UACAN;;UACA;YACAK;cAAAb;YAAA;UACA,CAFA,MAEA;YACAQ;UACA;QACA,CAfA;MAgBA,CAnBA,EAoBAM,KApBA,CAqBA;QACAN;MACA,CAvBA;IAyBA,CApCA;IAqCAO;MACA;QAAAf;MAAA;IACA,CAvCA;IAwCAgB;MACA;QAAAhB;MAAA;IACA,CA1CA;IA2CAiB;MACA;QAAAjB;MAAA;IACA;EA7CA;AAbA","names":["name","data","email","password","email_rules","password_rules","methods","login","console","headers","withCredentials","axios","then","self","catch","go_signup_page","go_students_home","go_teacher_home"],"sources":["Login.vue"],"sourcesContent":["<template>\n    <v-container>\n        <v-row align=\"center\" justify=\"space-around\" >\n            <v-text-field :rules=\"email_rules\" label=\"email\" v-model=\"email\"></v-text-field>\n        </v-row>\n        <v-row align=\"center\" justify=\"space-around\" >\n            <v-text-field :rules=\"password_rules\" label=\"password\" v-model=\"password\"></v-text-field>\n        </v-row>\n        <v-row align=\"center\" justify=\"space-around\" >\n            <v-btn depressed color=\"primary\" @click=\"login()\" value=\"POST\">\n                Login\n            </v-btn>\n        </v-row>\n    </v-container>\n</template>\n\n<script>\nimport axios from \"axios\";\nexport default {\n  \n  name: \"Login\",\n  data: () => ({\n      email: \"neo@neo.com\",\n      password: \"neoneo\",\n      email_rules: [\n        value => !!value || 'Required.',\n      ],\n      password_rules: [\n        value => !!value || 'Required.',\n      ]\n    }),\n  methods:{\n      login: function(){\n        console.log(this.email,this.password)\n        const config = {\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          withCredentials: true\n        };\n        const params = {email: this.email,password: this.password}\n        let self = this\n        axios.post(\"http://localhost:8000/token\", params, config)\n        .then(function(response){\n          console.log(response.data)\n          axios.get(\"http://localhost:8000/home_profile\", {withCredentials: true})\n          .then(function(response){\n              if(response.data.create){\n                self.go_teacher_home()\n              }else{\n                self.go_students_home()\n              }\n          }).catch(\n            function(error)  {\n              console.log(error)\n              if(error.response.status == 401){\n                self.$router.push({name:'Signup'})\n              }else{\n                console.log(error.response)\n              }\n            }\n          )}\n        ).catch(\n          function(error){\n            console.log(error)\n          }\n        )\n      },\n      go_signup_page: function(){\n          this.$router.push({name:'Signup'})\n      },\n      go_students_home: function(){\n          this.$router.push({name:'StudentHome'})\n      },\n      go_teacher_home: function(){\n          this.$router.push({name:'TeacherHome'})\n      },\n\n  },\n};\n</script>\n"],"sourceRoot":"src/components/pages"}]}