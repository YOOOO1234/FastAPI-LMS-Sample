{"remainingRequest":"/app/my-application/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/my-application/src/components/pages/students/Flow.vue?vue&type=script&lang=js&","dependencies":[{"path":"/app/my-application/src/components/pages/students/Flow.vue","mtime":1653636015772},{"path":"/app/my-application/node_modules/cache-loader/dist/cjs.js","mtime":1652423462045},{"path":"/app/my-application/node_modules/babel-loader/lib/index.js","mtime":1652423464641},{"path":"/app/my-application/node_modules/cache-loader/dist/cjs.js","mtime":1652423462045},{"path":"/app/my-application/node_modules/vue-loader/lib/index.js","mtime":1652423456009}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCB7IG1hcmtlZCB9IGZyb20gJ21hcmtlZCc7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkZsb3ciLAogIHByb3BzOiB7CiAgICBjb3Vyc2VfaWQ6IE51bWJlciwKICAgIGZsb3dfaWQ6IE51bWJlcgogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24oKSB7CiAgICBsZXQgc2VsZiA9IHRoaXMKICAgIGF4aW9zLmdldCgiaHR0cDovL2xvY2FsaG9zdDo4MDAwL2hvbWVfcHJvZmlsZSIsIHt3aXRoQ3JlZGVudGlhbHM6IHRydWV9KQogICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpCiAgICAgICAgICBzZWxmLnVzZXJuYW1lID0gcmVzcG9uc2UuZGF0YS51c2VybmFtZQogICAgICAgICAgc2VsZi5pc19jcmVhdGVyID0gcmVzcG9uc2UuZGF0YS5jcmVhdGUKICAgICAgICAgIGF4aW9zLmdldChgaHR0cDovL2xvY2FsaG9zdDo4MDAwL2dldF9mbG93LyR7c2VsZi5mbG93X2lkfWAsIHt3aXRoQ3JlZGVudGlhbHM6IHRydWV9KQogICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpewogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKQogICAgICAgICAgICBzZWxmLmZsb3cgPSByZXNwb25zZS5kYXRhCiAgICAgICAgICB9KS5jYXRjaCgKICAgICAgICAgICAgZnVuY3Rpb24oZXJyb3IpewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yLnJlc3BvbnNlKQogICAgICAgICAgICB9CiAgICAgICAgICApCiAgICAgICAgICBheGlvcy5nZXQoYGh0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9nZXRfZmxvd193ZWxjb21lX3BhZ2UvJHtzZWxmLmZsb3dfaWR9YCwge3dpdGhDcmVkZW50aWFsczogdHJ1ZX0pCiAgICAgICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSl7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpCiAgICAgICAgICAgIHNlbGYud2VsY29tZV9wYWdlX2NvbnRlbnQgPSByZXNwb25zZS5kYXRhLmNvbnRlbnQKICAgICAgICAgIH0pLmNhdGNoKAogICAgICAgICAgICBmdW5jdGlvbihlcnJvcil7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IucmVzcG9uc2UpCiAgICAgICAgICAgIH0KICAgICAgICAgICkKICAgICAgICAgIGF4aW9zLmdldChgaHR0cDovL2xvY2FsaG9zdDo4MDAwL2dldF9mbG93X3Nlc3Npb25zLyR7c2VsZi5mbG93X2lkfWAsIHt3aXRoQ3JlZGVudGlhbHM6IHRydWV9KQogICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpewogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKQogICAgICAgICAgICBzZWxmLmZsb3dfc2Vzc2lvbnMgPSByZXNwb25zZS5kYXRhCiAgICAgICAgICB9KS5jYXRjaCgKICAgICAgICAgICAgZnVuY3Rpb24oZXJyb3IpewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yLnJlc3BvbnNlKQogICAgICAgICAgICB9CiAgICAgICAgICApCiAgICAgICAgICBheGlvcy5nZXQoYGh0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9nZXRfY291cnNlLyR7c2VsZi5jb3Vyc2VfaWR9YCwge3dpdGhDcmVkZW50aWFsczogdHJ1ZX0pCiAgICAgICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSl7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpCiAgICAgICAgICAgIHNlbGYuY291cnNlID0gcmVzcG9uc2UuZGF0YQogICAgICAgICAgfSkuY2F0Y2goCiAgICAgICAgICAgIGZ1bmN0aW9uKGVycm9yKXsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZSkKICAgICAgICAgICAgfQogICAgICAgICAgKQogICAgICAgIH0pLmNhdGNoKAogICAgICAgICAgZnVuY3Rpb24oZXJyb3IpICB7CiAgICAgICAgICAgIGlmKGVycm9yLnJlc3BvbnNlLnN0YXR1cyA9PSA0MDEpewogICAgICAgICAgICAgIHNlbGYuJHJvdXRlci5wdXNoKHtuYW1lOidTaWdudXAnfSkKICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IucmVzcG9uc2UpCiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICApCiAgfSwKICBkYXRhOiAoKSA9PiAoewogICAgZmxvdzoge30sCiAgICB3ZWxjb21lX3BhZ2VfY29udGVudDogIiIsCiAgICB1c2VybmFtZSA6ICIiLAogICAgaXNfY3JlYXRlciA6IGZhbHNlLAogICAgbWFya2Rvd246ICAiIyBIZWxsbyBXb3JsZCIsCiAgICBmbG93X3Nlc3Npb25zOiBbXSwKICAgIGNvdXJzZToge30KICB9KSwKICBtZXRob2RzOnsKICAgICAgbWFya2Rvd25Ub0h0bWwobWQpewogICAgICAgIHJldHVybiBtYXJrZWQobWQpOwogICAgICB9LAogICAgICBzdGFydF9uZXdfZmxvd19zZXNzaW9uKCl7CiAgICAgICAgY29uc3QgcGFyYW1zID0geyJmbG93X2lkIjp0aGlzLmZsb3dfaWR9CiAgICAgICAgY29uc3QgY29uZmlnID0gewogICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nCiAgICAgICAgICB9LAogICAgICAgICAgd2l0aENyZWRlbnRpYWxzOiB0cnVlCiAgICAgICAgfTsKICAgICAgICBsZXQgc2VsZiA9IHRoaXMKICAgICAgICBheGlvcy5wb3N0KGBodHRwOi8vbG9jYWxob3N0OjgwMDAvc3RhcnRfbmV3X2Zsb3dfc2Vzc2lvbmAsIHBhcmFtcywgY29uZmlnKQogICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpewogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKQogICAgICAgICAgICBpZihyZXNwb25zZS5kYXRhLnN0YXJ0X3N1Y2Nlc3MpewogICAgICAgICAgICAgIHNlbGYuJHJvdXRlci5wdXNoKHtuYW1lOidGbG93U2Vzc2lvbicsIHBhcmFtczoge2Zsb3dfc2Vzc2lvbl9pZDogcmVzcG9uc2UuZGF0YS5mbG93X3Nlc3Npb25faWQsIHBhZ2VfbnVtOiAxfX0pCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pLmNhdGNoKAogICAgICAgICAgICBmdW5jdGlvbihlcnJvcil7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpCiAgICAgICAgICAgIH0KICAgICAgICAgICkKICAgICAgfSwKICAgICAgZ29fdG9fY291cnNlKCl7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goe25hbWU6J0NvdXJzZScsIHBhcmFtczoge2NvdXJzZV9pZDp0aGlzLmNvdXJzZV9pZH19KQogICAgICB9LAogICAgICByZXN0YXJ0X2Zsb3dfc2Vzc2lvbihmbG93X3Nlc3Npb25faWQpewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHtuYW1lOidGbG93U2Vzc2lvbicsIHBhcmFtczoge2Zsb3dfc2Vzc2lvbl9pZDogZmxvd19zZXNzaW9uX2lkLCBwYWdlX251bTogMX19KQogICAgICB9CiAgfSwKfTsK"},{"version":3,"sources":["Flow.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Flow.vue","sourceRoot":"src/components/pages/students","sourcesContent":["<template>\n  <v-container>\n    <v-responsive :max-width=\"1200\" class=\"mx-auto\">\n      <v-container>\n        <v-subheader :class=\"['text-h5']\">{{flow.title}}</v-subheader>\n        <v-responsive >\n          <v-container class=\"pa-0\">\n            <div :class=\"`rounded-lg`\" class=\"grey lighten-3\" v-if=\"this.flow_sessions.length > 0\">\n              <v-container class=\"pa-1\">\n                <v-row no-gutters>\n                  <v-col cols=\"1\" class=\"text-center\">\n                    #\n                  </v-col>\n                  <v-col cols=\"4\" class=\"text-center\">\n                    start_datetime\n                  </v-col>\n                  <v-col cols=\"4\" class=\"text-center\">\n                    finish_datetime\n                  </v-col>\n                  <v-col cols=\"2\" class=\"text-center\">\n                    Finished\n                  </v-col>\n                  <v-col cols=\"1\" class=\"text-center\">\n                    Restart\n                  </v-col>\n                </v-row>\n                <v-row v-for=\"(flow_session,i) in this.flow_sessions\" :key=\"flow_session.id\" class=\"pa-0 ma-0\" no-gutters>\n                  <v-col cols=\"1\" class=\"text-center\">\n                    {{i+1}}\n                  </v-col>\n                  <v-col cols=\"4\" class=\"text-center\">\n                    {{flow_session.start_date_time}}\n                  </v-col>\n                  <v-col cols=\"4\" v-if=\"flow_session.finish_date_time\" class=\"text-center\">\n                    {{flow_session.finish_date_time}}\n                  </v-col>\n                  <v-col cols=\"4\" v-if=\"!flow_session.finish_date_time\" class=\"text-center\">\n                    -\n                  </v-col>\n                  <v-col cols=\"2\" class=\"text-center\">\n                    {{flow_session.is_finished}}\n                  </v-col>\n                  <v-col cols=\"1\" class=\"text-center pa-1\" >\n                    <v-btn @click=\"restart_flow_session(flow_session.id)\" small>\n                      start\n                    </v-btn>\n                  </v-col>\n                </v-row>\n              </v-container>\n            </div>\n          </v-container>\n        </v-responsive>\n        <v-container class=\"mt-6\">\n          <v-row>\n            <div v-html=\"markdownToHtml(welcome_page_content)\"></div>\n          </v-row>\n          <v-row class=\"mt-8\">\n            <v-btn depressed color=\"primary\" @click=\"start_new_flow_session()\">\n              Start New Flow Session\n            </v-btn>\n          </v-row>\n          <v-row class=\"mt-8\">\n            <v-btn depressed color=\"primary\" @click=\"go_to_course()\">\n              Go To Course\n            </v-btn>\n          </v-row>\n        </v-container>\n      </v-container>\n    </v-responsive>\n  </v-container>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { marked } from 'marked';\n\nexport default {\n  name: \"Flow\",\n  props: {\n    course_id: Number,\n    flow_id: Number\n  },\n  created: function() {\n    let self = this\n    axios.get(\"http://localhost:8000/home_profile\", {withCredentials: true})\n        .then(function(response){\n          console.log(response.data)\n          self.username = response.data.username\n          self.is_creater = response.data.create\n          axios.get(`http://localhost:8000/get_flow/${self.flow_id}`, {withCredentials: true})\n          .then(function(response){\n            console.log(response.data)\n            self.flow = response.data\n          }).catch(\n            function(error){\n              console.log(error.response)\n            }\n          )\n          axios.get(`http://localhost:8000/get_flow_welcome_page/${self.flow_id}`, {withCredentials: true})\n          .then(function(response){\n            console.log(response.data)\n            self.welcome_page_content = response.data.content\n          }).catch(\n            function(error){\n              console.log(error.response)\n            }\n          )\n          axios.get(`http://localhost:8000/get_flow_sessions/${self.flow_id}`, {withCredentials: true})\n          .then(function(response){\n            console.log(response.data)\n            self.flow_sessions = response.data\n          }).catch(\n            function(error){\n              console.log(error.response)\n            }\n          )\n          axios.get(`http://localhost:8000/get_course/${self.course_id}`, {withCredentials: true})\n          .then(function(response){\n            console.log(response.data)\n            self.course = response.data\n          }).catch(\n            function(error){\n              console.log(error.response)\n            }\n          )\n        }).catch(\n          function(error)  {\n            if(error.response.status == 401){\n              self.$router.push({name:'Signup'})\n            }else{\n              console.log(error.response)\n            }\n          }\n        )\n  },\n  data: () => ({\n    flow: {},\n    welcome_page_content: \"\",\n    username : \"\",\n    is_creater : false,\n    markdown:  \"# Hello World\",\n    flow_sessions: [],\n    course: {}\n  }),\n  methods:{\n      markdownToHtml(md){\n        return marked(md);\n      },\n      start_new_flow_session(){\n        const params = {\"flow_id\":this.flow_id}\n        const config = {\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          withCredentials: true\n        };\n        let self = this\n        axios.post(`http://localhost:8000/start_new_flow_session`, params, config)\n          .then(function(response){\n            console.log(response.data)\n            if(response.data.start_success){\n              self.$router.push({name:'FlowSession', params: {flow_session_id: response.data.flow_session_id, page_num: 1}})\n            }\n          }).catch(\n            function(error){\n              console.log(error)\n            }\n          )\n      },\n      go_to_course(){\n        this.$router.push({name:'Course', params: {course_id:this.course_id}})\n      },\n      restart_flow_session(flow_session_id){\n        this.$router.push({name:'FlowSession', params: {flow_session_id: flow_session_id, page_num: 1}})\n      }\n  },\n};\n</script>\n"]}]}