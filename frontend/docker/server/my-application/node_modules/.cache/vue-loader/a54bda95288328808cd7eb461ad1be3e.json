{"remainingRequest":"/app/my-application/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/my-application/src/components/pages/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/app/my-application/src/components/pages/Login.vue","mtime":1653033698837},{"path":"/app/my-application/node_modules/cache-loader/dist/cjs.js","mtime":1652423462045},{"path":"/app/my-application/node_modules/babel-loader/lib/index.js","mtime":1652423464641},{"path":"/app/my-application/node_modules/cache-loader/dist/cjs.js","mtime":1652423462045},{"path":"/app/my-application/node_modules/vue-loader/lib/index.js","mtime":1652423456009}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmV4cG9ydCBkZWZhdWx0IHsKICAKICBuYW1lOiAiTG9naW4iLAogIGRhdGE6ICgpID0+ICh7CiAgICAgIGVtYWlsOiAibmVvQG5lby5jb20iLAogICAgICBwYXNzd29yZDogIm5lb25lbyIsCiAgICAgIGVtYWlsX3J1bGVzOiBbCiAgICAgICAgdmFsdWUgPT4gISF2YWx1ZSB8fCAnUmVxdWlyZWQuJywKICAgICAgXSwKICAgICAgcGFzc3dvcmRfcnVsZXM6IFsKICAgICAgICB2YWx1ZSA9PiAhIXZhbHVlIHx8ICdSZXF1aXJlZC4nLAogICAgICBdCiAgICB9KSwKICBtZXRob2RzOnsKICAgICAgbG9naW46IGZ1bmN0aW9uKCl7CiAgICAgICAgY29uc29sZS5sb2codGhpcy5lbWFpbCx0aGlzLnBhc3N3b3JkKQogICAgICAgIGNvbnN0IGNvbmZpZyA9IHsKICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJwogICAgICAgICAgfSwKICAgICAgICAgIHdpdGhDcmVkZW50aWFsczogdHJ1ZQogICAgICAgIH07CiAgICAgICAgY29uc3QgcGFyYW1zID0ge2VtYWlsOiB0aGlzLmVtYWlsLHBhc3N3b3JkOiB0aGlzLnBhc3N3b3JkfQogICAgICAgIGxldCBzZWxmID0gdGhpcwogICAgICAgIGF4aW9zLnBvc3QoImh0dHA6Ly9sb2NhbGhvc3Q6ODAwMC90b2tlbiIsIHBhcmFtcywgY29uZmlnKQogICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpCiAgICAgICAgICBheGlvcy5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9ob21lX3Byb2ZpbGUiLCB7d2l0aENyZWRlbnRpYWxzOiB0cnVlfSkKICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXsKICAgICAgICAgICAgICBpZihyZXNwb25zZS5kYXRhLmNyZWF0ZSl7CiAgICAgICAgICAgICAgICBzZWxmLmdvX3RlYWNoZXJfaG9tZSgpCiAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICBzZWxmLmdvX3N0dWRlbnRzX2hvbWUoKQogICAgICAgICAgICAgIH0KICAgICAgICAgIH0pLmNhdGNoKAogICAgICAgICAgICBmdW5jdGlvbihlcnJvcikgIHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcikKICAgICAgICAgICAgICBpZihlcnJvci5yZXNwb25zZS5zdGF0dXMgPT0gNDAxKXsKICAgICAgICAgICAgICAgIHNlbGYuJHJvdXRlci5wdXNoKHtuYW1lOidTaWdudXAnfSkKICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yLnJlc3BvbnNlKQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgKX0KICAgICAgICApLmNhdGNoKAogICAgICAgICAgZnVuY3Rpb24oZXJyb3IpewogICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcikKICAgICAgICAgIH0KICAgICAgICApCiAgICAgIH0sCiAgICAgIGdvX3NpZ251cF9wYWdlOiBmdW5jdGlvbigpewogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goe25hbWU6J1NpZ251cCd9KQogICAgICB9LAogICAgICBnb19zdHVkZW50c19ob21lOiBmdW5jdGlvbigpewogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goe25hbWU6J1N0dWRlbnRIb21lJ30pCiAgICAgIH0sCiAgICAgIGdvX3RlYWNoZXJfaG9tZTogZnVuY3Rpb24oKXsKICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHtuYW1lOidUZWFjaGVySG9tZSd9KQogICAgICB9LAoKICB9LAp9Owo="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAiBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"Login.vue","sourceRoot":"src/components/pages","sourcesContent":["<template>\n    <v-container>\n        <v-row align=\"center\" justify=\"space-around\" >\n            <v-text-field :rules=\"email_rules\" label=\"email\" v-model=\"email\"></v-text-field>\n        </v-row>\n        <v-row align=\"center\" justify=\"space-around\" >\n            <v-text-field :rules=\"password_rules\" label=\"password\" v-model=\"password\"></v-text-field>\n        </v-row>\n        <v-row align=\"center\" justify=\"space-around\" >\n            <v-btn depressed color=\"primary\" @click=\"login()\" value=\"POST\">\n                Login\n            </v-btn>\n        </v-row>\n    </v-container>\n</template>\n\n<script>\nimport axios from \"axios\";\nexport default {\n  \n  name: \"Login\",\n  data: () => ({\n      email: \"neo@neo.com\",\n      password: \"neoneo\",\n      email_rules: [\n        value => !!value || 'Required.',\n      ],\n      password_rules: [\n        value => !!value || 'Required.',\n      ]\n    }),\n  methods:{\n      login: function(){\n        console.log(this.email,this.password)\n        const config = {\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          withCredentials: true\n        };\n        const params = {email: this.email,password: this.password}\n        let self = this\n        axios.post(\"http://localhost:8000/token\", params, config)\n        .then(function(response){\n          console.log(response.data)\n          axios.get(\"http://localhost:8000/home_profile\", {withCredentials: true})\n          .then(function(response){\n              if(response.data.create){\n                self.go_teacher_home()\n              }else{\n                self.go_students_home()\n              }\n          }).catch(\n            function(error)  {\n              console.log(error)\n              if(error.response.status == 401){\n                self.$router.push({name:'Signup'})\n              }else{\n                console.log(error.response)\n              }\n            }\n          )}\n        ).catch(\n          function(error){\n            console.log(error)\n          }\n        )\n      },\n      go_signup_page: function(){\n          this.$router.push({name:'Signup'})\n      },\n      go_students_home: function(){\n          this.$router.push({name:'StudentHome'})\n      },\n      go_teacher_home: function(){\n          this.$router.push({name:'TeacherHome'})\n      },\n\n  },\n};\n</script>\n"]}]}