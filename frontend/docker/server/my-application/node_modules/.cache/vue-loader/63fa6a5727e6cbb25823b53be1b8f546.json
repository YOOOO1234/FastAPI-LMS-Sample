{"remainingRequest":"/app/my-application/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/my-application/src/components/pages/teachers/CourseEdit.vue?vue&type=script&lang=js&","dependencies":[{"path":"/app/my-application/src/components/pages/teachers/CourseEdit.vue","mtime":1653636273634},{"path":"/app/my-application/node_modules/cache-loader/dist/cjs.js","mtime":1652423462045},{"path":"/app/my-application/node_modules/babel-loader/lib/index.js","mtime":1652423464641},{"path":"/app/my-application/node_modules/cache-loader/dist/cjs.js","mtime":1652423462045},{"path":"/app/my-application/node_modules/vue-loader/lib/index.js","mtime":1652423456009}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkhvbWUiLAogIHByb3BzOiB7CiAgICBjb3Vyc2VfaWQ6IE51bWJlcgogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24oKSB7CiAgICBsZXQgc2VsZiA9IHRoaXMKICAgIGF4aW9zLmdldCgiaHR0cDovL2xvY2FsaG9zdDo4MDAwL2hvbWVfcHJvZmlsZSIsIHt3aXRoQ3JlZGVudGlhbHM6IHRydWV9KQogICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpCiAgICAgICAgICBzZWxmLnVzZXJfaW5mbyA9IHJlc3BvbnNlLmRhdGEKICAgICAgICAgIHNlbGYuaXNfY3JlYXRlciA9IHJlc3BvbnNlLmRhdGEuY3JlYXRlCiAgICAgICAgICBpZihzZWxmLmlzX2NyZWF0ZXIpewogICAgICAgICAgICBzZWxmLmdldF9jb3Vyc2VfaW5mbygpCiAgICAgICAgICB9CiAgICAgICAgfSkuY2F0Y2goCiAgICAgICAgICBmdW5jdGlvbihlcnJvcikgIHsKICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpCiAgICAgICAgICAgIGlmKGVycm9yLnJlc3BvbnNlLnN0YXR1cyA9PSA0MDEpewogICAgICAgICAgICAgIHNlbGYuJHJvdXRlci5wdXNoKHtuYW1lOidTaWdudXAnfSkKICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IucmVzcG9uc2UpCiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICApCiAgfSwKICBkYXRhOiAoKSA9PiAoewogICAgdXNlcl9pbmZvIDoge30sCiAgICBpc19jcmVhdGUgOiBmYWxzZSwKICAgIGNvdXJzZToge30sCiAgICBjb3Vyc2VfbmFtZTogIiIsCiAgICBzdGFydF9kYXRlX3RpbWU6ICIiLAogICAgZW5kX2RhdGVfdGltZTogIiIsCiAgfSksCiAgbWV0aG9kczp7CiAgICBsb2dvdXQ6IGZ1bmN0aW9uKCl7CiAgICAgIGxldCBzZWxmID0gdGhpcwogICAgICBheGlvcy5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9ob21lX3Byb2ZpbGUiLCB7d2l0aENyZWRlbnRpYWxzOiB0cnVlfSkKICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpewogICAgICAgIGlmKHJlc3BvbnNlLmRhdGEuaXNfYWN0aXZlKXsKICAgICAgICAgIHNlbGYuZ29fbG9naW5fcGFnZSgpCiAgICAgICAgfQogICAgICB9KS5jYXRjaCgKICAgICAgICBmdW5jdGlvbihlcnJvcil7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcikKICAgICAgICAgIGlmKGVycm9yLnJlc3BvbnNlLnN0YXR1cyA9PSA0MDEpewogICAgICAgICAgICBzZWxmLiRyb3V0ZXIucHVzaCh7bmFtZTonTG9naW4nfSkKICAgICAgICAgIH1lbHNlewogICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZSkKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICkKICAgIH0sCiAgICBtb3ZlX3RvX2NvdXJzZV9pbmZvKCl7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHtuYW1lOidDb3Vyc2VJbmZvJywgcGFyYW1zOnsiY291cnNlX2lkIjp0aGlzLmNvdXJzZV9pZH19KQogICAgfSwKICAgIG1vdmVfdG9fY291cnNlX3Rha2luZygpewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7bmFtZTonQ291cnNlVGFraW5nJyxwYXJhbXM6eyJjb3Vyc2VfaWQiOnRoaXMuY291cnNlX2lkfX0pCiAgICB9LAogICAgZ2V0X2NvdXJzZV9pbmZvKCl7CiAgICAgIGxldCBzZWxmID0gdGhpcwogICAgICBheGlvcy5nZXQoYGh0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9nZXRfY291cnNlX2luZm8vJHtzZWxmLmNvdXJzZV9pZH1gLCB7d2l0aENyZWRlbnRpYWxzOiB0cnVlfSkKICAgICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSl7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKQogICAgICAgICAgc2VsZi5jb3Vyc2UgPSByZXNwb25zZS5kYXRhCiAgICAgICAgICBzZWxmLmNvdXJzZV9uYW1lID0gc2VsZi5jb3Vyc2UuY291cnNlX25hbWUKICAgICAgICAgIHNlbGYuc3RhcnRfZGF0ZV90aW1lID0gc2VsZi5jb3Vyc2Uuc3RhcnRfZGF0ZV90aW1lCiAgICAgICAgICBzZWxmLmVuZF9kYXRlX3RpbWUgPSBzZWxmLmNvdXJzZS5lbmRfZGF0ZV90aW1lCiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpewogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IucmVzcG9uc2UpCiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpICB7CiAgICAgICAgICBpZihlcnJvci5yZXNwb25zZS5zdGF0dXMgPT0gNDAxKXsKICAgICAgICAgICAgc2VsZi4kcm91dGVyLnB1c2goe25hbWU6J1NpZ251cCd9KQogICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yLnJlc3BvbnNlKQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgKSAKICAgIH0sCiAgICB1cGRhdGVfY291cnNlX25hbWUoKXsKICAgICAgY29uc3QgcGFyYW1zID0geyJjb3Vyc2VfaWQiOnRoaXMuY291cnNlX2lkLCAiY291cnNlX25hbWUiOiB0aGlzLmNvdXJzZV9uYW1lfQogICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShwYXJhbXMpKTsKICAgICAgY29uc3QgY29uZmlnID0gewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicKICAgICAgICB9LAogICAgICAgIHdpdGhDcmVkZW50aWFsczogdHJ1ZQogICAgICB9OwogICAgICBsZXQgc2VsZiA9IHRoaXMKICAgICAgYXhpb3MucG9zdCgnaHR0cDovL2xvY2FsaG9zdDo4MDAwL3VwZGF0ZV9jb3Vyc2VfbmFtZScsIHBhcmFtcywgY29uZmlnKQogICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSl7CiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSkKICAgICAgICAgIHNlbGYuZ2V0X2NvdXJzZV9pbmZvKCkKICAgICAgfSkKICAgIH0sCiAgICB1cGRhdGVfZGF0ZV90aW1lKCl7CiAgICAgIGNvbnN0IHBhcmFtcyA9IHsiY291cnNlX2lkIjp0aGlzLmNvdXJzZV9pZCwgInN0YXJ0X2RhdGVfdGltZSI6IHRoaXMuc3RhcnRfZGF0ZV90aW1lLCAiZW5kX2RhdGVfdGltZSI6IHRoaXMuZW5kX2RhdGVfdGltZX0KICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkocGFyYW1zKSk7CiAgICAgIGNvbnN0IGNvbmZpZyA9IHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nCiAgICAgICAgfSwKICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IHRydWUKICAgICAgfTsKICAgICAgbGV0IHNlbGYgPSB0aGlzCiAgICAgIGF4aW9zLnBvc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6ODAwMC91cGRhdGVfZGF0ZV90aW1lJywgcGFyYW1zLCBjb25maWcpCiAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXsKICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKQogICAgICAgICAgc2VsZi5nZXRfY291cnNlX2luZm8oKQogICAgICB9KQogICAgfQogIH0sCn07Cg=="},{"version":3,"sources":["CourseEdit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CourseEdit.vue","sourceRoot":"src/components/pages/teachers","sourcesContent":["<template>\n  <v-container>\n    <v-responsive :max-width=\"1200\" class=\"mx-auto\">\n      <v-container>\n        <v-banner height=\"100\" :class=\"['text-h5']\">{{course.course_name}}\n          <v-row justify=\"end\">\n            <v-btn text color=\"grey\" @click=\"logout()\" value=\"POST\">logout</v-btn>\n          </v-row>\n        </v-banner>\n      </v-container>\n      <v-container>\n        <v-row>\n          <v-col cols=\"6\">\n            <v-subheader :class=\"['text-h5']\">{{course.course_name}}</v-subheader>\n          </v-col>\n          <v-col cols=\"6\">\n            <v-container>  \n              <v-row justify=\"end\">\n                <div>\n                  {{this.user_info.username}} ( {{this.user_info.email}})<br>\n                  {{this.user_info.kind_name}} としてログイン中\n                  </div>\n              </v-row>\n            </v-container>\n          </v-col>\n        </v-row>\n        <v-row>\n        <v-col cols=\"2\">\n          <v-btn @click=\"move_to_course_info()\" depressed block color=\"transparent\"  class=\"mb-2\"> \n            コース情報\n          </v-btn>\n        </v-col>\n        <v-col cols=\"2\">\n          <v-btn @click=\"move_to_course_taking()\" depressed block color=\"transparent\"  class=\"mb-2\">\n            履修者\n          </v-btn>\n        </v-col >  \n        <v-col cols=\"2\">\n          <v-btn depressed block color=\"transparent\"  class=\"mb-2\">\n            プレビュー\n          </v-btn>\n        </v-col >  \n        <v-col cols=\"2\">\n          <v-btn depressed block color=\"transparent\"  class=\"mb-2\">\n            編集\n          </v-btn>\n          <v-divider class=\"red\"></v-divider>\n        </v-col>  \n        </v-row>\n        <v-divider class=\"mt-0\"></v-divider>\n        <v-row class=\"mt-5\" >\n          <v-responsive :max-width=\"1000\" class=\"mx-auto\">\n            <v-container>\n              <v-row>\n                <v-col>\n                  <v-subheader :class=\"['text-h5']\">コース情報の変更</v-subheader>\n                </v-col>\n              </v-row>\n              <v-row>\n                <v-col class=\"pl-0 pb-0\">\n                  <v-subheader :class=\"['subtitle-1']\">コース名</v-subheader>\n                </v-col>\n              </v-row>\n              <v-row class=\"mt-0\">\n                <v-col cols=\"5\">\n                  <v-text-field v-model=\"course_name\"  outlined dense></v-text-field>\n                </v-col>\n                <v-col cols=\"1\">\n                  <v-btn @click=\"update_course_name()\" >更新</v-btn>\n                </v-col>\n              </v-row>\n              <v-row class=\"mt-0\">\n                <v-col cols=\"5\" class=\"pl-0 pb-0\">\n                  <v-subheader :class=\"['subtitle-1']\">開始日時</v-subheader>\n                </v-col>\n                <v-col cols=\"5\" class=\"pl-0 pb-0\">\n                  <v-subheader :class=\"['subtitle-1']\">終了日時</v-subheader>\n                </v-col>\n              </v-row>\n              <v-row class=\"mt-0\">\n                <v-col cols=\"5\">\n                  <v-text-field v-model=\"start_date_time\"  outlined dense></v-text-field>\n                </v-col>\n                <v-col cols=\"5\">\n                  <v-text-field v-model=\"end_date_time\"  outlined dense></v-text-field>\n                </v-col>\n                <v-col cols=\"1\">\n                  <v-btn @click=\"update_date_time()\">更新</v-btn>\n                </v-col>\n              </v-row>\n              \n            </v-container>\n          </v-responsive>\n        </v-row>\n        \n      </v-container>\n    </v-responsive>\n  </v-container>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  name: \"Home\",\n  props: {\n    course_id: Number\n  },\n  created: function() {\n    let self = this\n    axios.get(\"http://localhost:8000/home_profile\", {withCredentials: true})\n        .then(function(response){\n          console.log(response.data)\n          self.user_info = response.data\n          self.is_creater = response.data.create\n          if(self.is_creater){\n            self.get_course_info()\n          }\n        }).catch(\n          function(error)  {\n            console.log(error)\n            if(error.response.status == 401){\n              self.$router.push({name:'Signup'})\n            }else{\n              console.log(error.response)\n            }\n          }\n        )\n  },\n  data: () => ({\n    user_info : {},\n    is_create : false,\n    course: {},\n    course_name: \"\",\n    start_date_time: \"\",\n    end_date_time: \"\",\n  }),\n  methods:{\n    logout: function(){\n      let self = this\n      axios.get(\"http://localhost:8000/home_profile\", {withCredentials: true})\n      .then(function(response){\n        if(response.data.is_active){\n          self.go_login_page()\n        }\n      }).catch(\n        function(error){\n          console.log(error)\n          if(error.response.status == 401){\n            self.$router.push({name:'Login'})\n          }else{\n            console.log(error.response)\n          }\n        }\n      )\n    },\n    move_to_course_info(){\n      this.$router.push({name:'CourseInfo', params:{\"course_id\":this.course_id}})\n    },\n    move_to_course_taking(){\n      this.$router.push({name:'CourseTaking',params:{\"course_id\":this.course_id}})\n    },\n    get_course_info(){\n      let self = this\n      axios.get(`http://localhost:8000/get_course_info/${self.course_id}`, {withCredentials: true})\n        .then(function(response){\n          console.log(response.data)\n          self.course = response.data\n          self.course_name = self.course.course_name\n          self.start_date_time = self.course.start_date_time\n          self.end_date_time = self.course.end_date_time\n        }).catch(function(error){\n          console.log(error.response)\n        }).catch(function(error)  {\n          if(error.response.status == 401){\n            self.$router.push({name:'Signup'})\n          }else{\n            console.log(error.response)\n          }\n        }\n      ) \n    },\n    update_course_name(){\n      const params = {\"course_id\":this.course_id, \"course_name\": this.course_name}\n      console.log(JSON.stringify(params));\n      const config = {\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        withCredentials: true\n      };\n      let self = this\n      axios.post('http://localhost:8000/update_course_name', params, config)\n      .then(function(response){\n        console.log(response.data)\n          self.get_course_info()\n      })\n    },\n    update_date_time(){\n      const params = {\"course_id\":this.course_id, \"start_date_time\": this.start_date_time, \"end_date_time\": this.end_date_time}\n      console.log(JSON.stringify(params));\n      const config = {\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        withCredentials: true\n      };\n      let self = this\n      axios.post('http://localhost:8000/update_date_time', params, config)\n      .then(function(response){\n        console.log(response.data)\n          self.get_course_info()\n      })\n    }\n  },\n};\n</script>\n"]}]}